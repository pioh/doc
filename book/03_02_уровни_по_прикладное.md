[← К оглавлению](README.md)

---

# [Глава 3.2](03_02_уровни_по_прикладное.md): Уровни программного обеспечения. Сервисное и прикладное ПО

## Введение

В предыдущей главе (3.1) мы разобрались, что **операционная система** — это менеджер, который управляет железом и не даёт процессам убить друг друга. Но ОС — это только фундамент. На ней строится многоэтажный небоскрёб из программ: драйверы, библиотеки, компиляторы, IDE, игры, браузеры, антивирусы, и даже калькулятор, который ты открываешь раз в год на экзамене.

Вся эта куча софта организована в **иерархию уровней**. Нижний уровень (железо) ничего не знает о верхнем (твой браузер), а верхний не хочет лезть в детали работы процессора. Между ними — прослойки: драйверы, библиотеки, API, middleware. Это как слоёный пирог: каждый слой имеет свою задачу.

В этой главе разберём:
- Какие уровни ПО существуют (от железа до игр)
- Что такое **сервисное ПО** (библиотеки, компиляторы, API)
- Что такое **прикладное ПО** (программы, которыми ты пользуешься каждый день)
- Почему системный программист смотрит на прикладного сверху вниз (но зарабатывает не сильно больше)

---

## 3.2.1. Иерархия уровней программного обеспечения

Программное обеспечение можно представить как слоёный пирог (или бургер, если ты голоден). Каждый уровень опирается на предыдущий и предоставляет сервисы следующему.

### Четыре основных уровня

#### 1. Аппаратный уровень (Hardware Layer)

**Что это:** Физическое железо — процессор, память, диски, сетевые карты, видеокарты. Это нулевой уровень, без него ничего не работает.

**Компоненты:**
- **CPU** (процессор) — вычисляет
- **RAM** (оперативная память) — хранит данные для быстрого доступа
- **Диски** (HDD, SSD, NVMe) — долговременное хранение
- **GPU** (видеокарта) — рисует картинки и майнит крипту
- **Периферия** (клавиатура, мышь, принтеры, веб-камеры)

**Прослойка:** **BIOS/UEFI** — прошивка, которая запускается при включении компьютера. Она инициализирует железо и передаёт управление ОС. BIOS — древний (1980-е), UEFI — современная замена (поддержка дисков >2 TB, GUI, безопасность Secure Boot).

**Пример:** Нажал кнопку включения → UEFI проверяет железо → загружает загрузчик ОС (GRUB / Windows Boot Manager) → запускается ОС.

---

#### 2. Системный уровень (System Software Layer)

**Что это:** Программы, которые управляют железом и предоставляют базовые сервисы. Без них компьютер — кирпич.

**Основные компоненты:**

**a) Операционная система (ОС)**
- Ядро (kernel) — управляет процессами, памятью, файлами, устройствами ([Глава 3.1](03_01_операционные_системы.md)).
- Системные утилиты — программы для управления системой (ps, top, taskmgr.exe).

**б) Драйверы (Drivers)**
- Программы для управления конкретным устройством.
- Драйвер видеокарты NVIDIA GeForce RTX 4090 переводит команды DirectX/OpenGL в инструкции для GPU.
- Драйвер принтера знает, как отправить документ на печать.

**в) Системные утилиты**
- **Дефрагментация диска** (для HDD, на SSD бесполезна).
- **Диспетчер задач** (Task Manager в Windows, `top` / `htop` в Linux).
- **Файловые менеджеры** (Explorer в Windows, Nautilus в Linux).
- **Архиваторы** ([Глава 1.12](01_12_сжатие_информации.md)): WinRAR, 7-Zip, gzip, tar.
- **Антивирусы** — защита от зловредов (хотя Windows Defender уже неплохой).

**Кто пишет:** системные программисты. Языки: C, C++, Assembly. Ошибка в драйвере = Blue Screen of Death.

**Связь с главой 3.1:** ОС — это ядро системного уровня. Драйверы и утилиты работают в связке с ОС.

---

#### 3. Сервисный уровень (Service Software Layer / Middleware)

**Что это:** Промежуточный слой между системным и прикладным ПО. Предоставляет инструменты для разработки и запуска программ.

**Основные компоненты:**

**a) Библиотеки и API**
- **API (Application Programming Interface)** — набор функций для взаимодействия с ОС или другими программами.
  - **libc** (стандартная библиотека C) — функции `printf()`, `malloc()`, работа с файлами. Используется почти всеми программами в Linux.
  - **WinAPI** — API Windows для создания окон, работы с файлами, сетью.
  - **.NET Framework / .NET Core** — платформа для разработки на C#, F#, Visual Basic.
- **Графические библиотеки:**
  - **OpenGL** — кросс-платформенный API для 3D-графики (игры, CAD).
  - **DirectX** — API Windows для игр (DirectX 12 в современных играх).
  - **Vulkan** — низкоуровневый API для максимальной производительности (Doom Eternal, Cyberpunk 2077).

**б) Компиляторы и интерпретаторы**
- Преобразуют код на языке программирования в машинный код (подробнее в [Глава 6.2](06_02_языки_компиляторы.md)).
- **Компиляторы:** GCC (C/C++), Clang (C/C++/Objective-C), rustc (Rust), javac (Java).
- **Интерпретаторы:** Python, JavaScript (V8 в Chrome), Ruby.
- **JVM (Java Virtual Machine)** — виртуальная машина для запуска Java-программ. Код Java компилируется в байт-код, а JVM выполняет его на любой платформе ("Write Once, Run Anywhere"). Минус: жрёт память как не в себя.

**в) Отладчики и профилировщики**
- **Отладчик (Debugger)** — программа для поиска ошибок в коде. Позволяет пошагово выполнять программу, смотреть значения переменных, ставить точки останова.
  - **gdb** (GNU Debugger) — для C/C++ в Linux.
  - **Visual Studio Debugger** — в Windows, интегрирован в IDE.
  - **LLDB** — современный отладчик (используется в Xcode для macOS/iOS).
- **Профилировщик (Profiler)** — анализирует, где программа тратит время и память. Находит узкие места (bottlenecks).
  - **Valgrind** — находит утечки памяти в C/C++.
  - **perf** — профилировщик Linux.

**г) Middleware (промежуточное ПО)**
- Программы, которые связывают разные компоненты системы.
- **Серверы приложений:** Apache Tomcat (Java), IIS (Windows), nginx (веб-сервер + прокси).
- **Брокеры сообщений:** RabbitMQ, Kafka — для передачи данных между микросервисами.
- **Базы данных:** PostgreSQL, MySQL, MongoDB (подробнее в главе 7).

**Кто пишет:** системные программисты и разработчики инструментов. Языки: C, C++, Rust, Go.

**Пример:** Написал программу на C++. Компилятор `g++` превратил код в исполняемый файл. Программа использует библиотеку `libc` для работы с файлами. Библиотека `libc` вызывает системные вызовы (system calls) ядра Linux. Ядро обращается к драйверу диска. Драйвер управляет контроллером SSD. Контроллер записывает данные на флеш-память. Вот так слои взаимодействуют.

---

#### 4. Прикладной уровень (Application Software Layer)

**Что это:** Программы, которыми пользуется конечный пользователь. Это финальный слой пирога — самый видимый и вкусный.

**Типы прикладного ПО:**

**а) ПО общего назначения**
- Программы для широкого круга задач.
- **Текстовые редакторы и офисные пакеты:**
  - Microsoft Office (Word, Excel, PowerPoint) — стандарт в корпорациях.
  - LibreOffice / OpenOffice — бесплатная альтернатива (совместима с форматами MS Office).
  - Google Docs — облачный редактор (работает в браузере, автосохранение, совместная работа).
- **Браузеры:**
  - Chrome (Chromium) — 65% рынка (2025), но жрёт RAM как не в себя.
  - Firefox — уважение за приватность, но доля рынка падает (~3%).
  - Safari — встроенный в macOS/iOS, оптимизирован под Apple Silicon.
  - Edge — браузер Microsoft на движке Chromium (неожиданно неплохой).
- **Медиаплееры:**
  - VLC — воспроизводит всё, даже полуразбитые файлы (легенда).
  - Spotify — стриминг музыки.
  - YouTube — стриминг видео (и рекламы).

**б) Специализированное ПО**
- Программы для конкретных задач (профессиональные инструменты).

**Разработка:**
- **IDE (Integrated Development Environment):**
  - Visual Studio Code (VS Code) — лёгкий, расширяемый, бесплатный. Самая популярная IDE (2025).
  - JetBrains (PyCharm, IntelliJ IDEA, WebStorm) — мощные, платные (есть бесплатные версии).
  - Visual Studio — монстр от Microsoft для C++/C#.
  - Xcode — для разработки под macOS/iOS (только на Mac).
- **Системы контроля версий:**
  - Git — стандарт индустрии. GitHub, GitLab, Bitbucket.

**Графика и дизайн:**
- **Adobe Creative Suite:**
  - Photoshop — редактор растровой графики (фото, дизайн).
  - Illustrator — векторная графика (логотипы, иллюстрации).
  - Premiere Pro — видеомонтаж.
- **Альтернативы (бесплатные):**
  - GIMP — редактор растровой графики (замена Photoshop).
  - Inkscape — векторная графика (замена Illustrator).
  - DaVinci Resolve — профессиональный видеомонтаж (бесплатная версия мощная).
  - Blender — 3D-моделирование, анимация, рендеринг (бесплатный, но крутой — фильмы и игры делают).

**Инженерия:**
- **CAD (Computer-Aided Design):**
  - AutoCAD — проектирование зданий, механизмов.
  - SolidWorks — 3D-моделирование для инженеров.
  - FreeCAD — бесплатная альтернатива.
- **Симуляторы:**
  - MATLAB — математическое моделирование (студенты физтеха, привет).
  - Simulink — моделирование динамических систем.

**Игры:**
- GTA V, Cyberpunk 2077, Elden Ring, Counter-Strike 2, Dota 2, League of Legends, Minecraft (самая продаваемая игра в истории — 300+ млн копий).

**в) Встроенное ПО (Firmware)**
- Программы, зашитые в устройства.
- **Роутеры:** прошивки на базе Linux (OpenWrt, DD-WRT).
- **Принтеры:** управление печатью.
- **Смарт-часы:** watchOS (Apple Watch), Wear OS (Google).
- **Умные колонки:** Alexa (Amazon), Google Assistant, Алиса (Яндекс).

**Кто пишет:** прикладные программисты. Языки: Python, JavaScript, Java, C#, Swift, Kotlin, TypeScript.

---

### Визуализация уровней

```
┌────────────────────────────────────────────┐
│  ПРИКЛАДНОЙ УРОВЕНЬ                        │
│  - Игры, браузеры, офисные пакеты         │
│  - IDE, графические редакторы              │
│  - Калькулятор, который никто не юзает     │
└────────────────────────────────────────────┘
              ↕ (API, библиотеки)
┌────────────────────────────────────────────┐
│  СЕРВИСНЫЙ УРОВЕНЬ (Middleware)            │
│  - Библиотеки (libc, WinAPI, DirectX)     │
│  - Компиляторы (GCC, Clang, javac)        │
│  - Отладчики (gdb, Visual Studio)         │
│  - Серверы приложений (nginx, Tomcat)     │
└────────────────────────────────────────────┘
              ↕ (системные вызовы)
┌────────────────────────────────────────────┐
│  СИСТЕМНЫЙ УРОВЕНЬ                         │
│  - Операционная система (Linux, Windows)  │
│  - Драйверы (видеокарта, принтер, мышь)   │
│  - Системные утилиты (архиваторы, AV)     │
└────────────────────────────────────────────┘
              ↕ (инструкции процессора)
┌────────────────────────────────────────────┐
│  АППАРАТНЫЙ УРОВЕНЬ                        │
│  - CPU, RAM, SSD, GPU, сетевая карта      │
│  - BIOS/UEFI (прошивка)                    │
└────────────────────────────────────────────┘
```

---

## 3.2.2. Разница между системным, сервисным и прикладным ПО

### Сравнение уровней

| Критерий                | Системное ПО                     | Сервисное ПО                      | Прикладное ПО                      |
|-------------------------|----------------------------------|-----------------------------------|------------------------------------|
| **Назначение**          | Управление железом               | Инструменты для разработки        | Решение задач пользователя         |
| **Примеры**             | ОС, драйверы, антивирусы         | Компиляторы, API, библиотеки      | Браузеры, игры, офисные пакеты    |
| **Уровень абстракции**  | Низкий (близко к железу)         | Средний                           | Высокий (далеко от железа)         |
| **Язык программирования**| C, C++, Assembly, Rust          | C, C++, Java, Rust, Go            | Python, Java, C#, JavaScript       |
| **Кто пользуется**      | Все программы                    | Разработчики                      | Конечные пользователи              |
| **Ошибка может привести**| Краш системы (BSOD, kernel panic)| Краш приложения                   | Потеря данных, неудобство          |
| **Время разработки**    | Годы (ядро Linux — 30+ лет)      | Месяцы-годы                       | Недели-месяцы                      |

**Пример:**
- **Системное ПО:** Драйвер видеокарты NVIDIA. Если он крашнется — экран погаснет, ОС может упасть.
- **Сервисное ПО:** Библиотека OpenGL. Если она работает криво — игра будет лагать или вылетать, но ОС выживет.
- **Прикладное ПО:** Игра Cyberpunk 2077. Если она крашнется — закроется окно игры, больше ничего не пострадает (кроме твоих нервов).

---

### Взаимодействие уровней: пример цепочки

**Задача:** Ты кликаешь мышкой в браузере Chrome на кнопку "Скачать файл".

**Что происходит:**

1. **Прикладной уровень:**
   - Chrome (прикладное ПО) обрабатывает клик, отправляет HTTP-запрос на сервер.
   - Использует библиотеку **libcurl** (сервисный уровень) для работы с сетью.

2. **Сервисный уровень:**
   - Библиотека `libcurl` формирует HTTP-запрос, вызывает системный вызов `socket()` для создания сетевого соединения.

3. **Системный уровень:**
   - Ядро Linux получает системный вызов, обращается к драйверу сетевой карты.
   - Драйвер отправляет данные через сетевую карту.

4. **Аппаратный уровень:**
   - Сетевая карта (Ethernet / Wi-Fi) физически передаёт пакеты данных по проводу/воздуху.

5. **Обратный путь:**
   - Сервер отвечает → пакеты приходят → сетевая карта → драйвер → ядро → `libcurl` → Chrome → файл сохраняется на диск.

**Вывод:** Один клик мышкой = десятки тысяч операций на всех уровнях. Слоёный пирог работает.

---

## 3.2.3. Сервисное ПО: детальный разбор

Сервисное ПО — это прослойка между системой и приложениями. Разработчики используют его, чтобы не писать всё с нуля.

---

### API и библиотеки: зачем изобретать велосипед?

**API (Application Programming Interface)** — это контракт: "Вызови функцию `X` с параметрами `Y`, и получишь результат `Z`". Программист не знает (и не хочет знать), как функция работает внутри — главное, что она работает.

**Пример 1: Стандартная библиотека C (libc)**

Хочешь вывести текст на экран? Используй `printf()`:

```c
#include <stdio.h>

int main() {
    printf("Hello, World!\n");
    return 0;
}
```

**Что происходит внутри:**
- `printf()` форматирует строку.
- Вызывает системный вызов `write()` для вывода в консоль.
- Ядро ОС передаёт данные драйверу терминала.
- Драйвер отображает текст на экране.

Ты написал одну строку, а за кулисами — десятки функций и три уровня абстракции.

---

**Пример 2: WinAPI (Windows API)**

Создать окно в Windows:

```c
#include <windows.h>

int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance,
                   LPSTR lpCmdLine, int nCmdShow) {
    MessageBox(NULL, "Hello, Windows!", "My App", MB_OK);
    return 0;
}
```

**Результат:** Появляется окошко с кнопкой "OK". WinAPI делает всю грязную работу: рисует окно, обрабатывает клики, управляет памятью.

---

**Пример 3: DirectX vs OpenGL**

**DirectX (Windows):**
- API для игр: графика (Direct3D), звук (DirectSound), ввод (DirectInput).
- Закрытый, работает только на Windows.
- Используется в AAA-играх (Call of Duty, Battlefield).

**OpenGL (кросс-платформенный):**
- API для 3D-графики, работает на Windows, Linux, macOS, Android.
- Открытый стандарт.
- Используется в Minecraft (до версии 1.17), CS:GO, многих инди-играх.

**Vulkan (современный):**
- Низкоуровневый API, замена OpenGL.
- Даёт программисту больше контроля → выше производительность.
- Используется в Doom Eternal, Cyberpunk 2077, Dota 2, Red Dead Redemption 2.

**Сравнение производительности:**

| API       | FPS в игре X (условный тест) | Сложность программирования |
|-----------|------------------------------|----------------------------|
| DirectX 11| 60 FPS                       | Средняя                    |
| DirectX 12| 80 FPS                       | Высокая                    |
| OpenGL    | 55 FPS                       | Средняя                    |
| Vulkan    | 90 FPS                       | Очень высокая              |

**Вывод:** Vulkan быстрее, но сложнее. DirectX 12 — компромисс. OpenGL устарел. Прогресс не стоит на месте.

---

### Компиляторы и интерпретаторы: от кода к программе

**Компилятор** — переводит код на языке программирования в машинный код (исполняемый файл).

**Интерпретатор** — выполняет код построчно, без создания исполняемого файла.

**Компиляция (GCC, Clang, rustc):**

```bash
# Компиляция программы на C
gcc main.c -o program
./program
```

**Плюсы:**
- Быстрое выполнение (код уже переведён в машинные инструкции).
- Оптимизация (компилятор может ускорить код).

**Минусы:**
- Долгая компиляция (для больших проектов — десятки минут).
- Нужна перекомпиляция для каждой платформы (Linux → Windows = разные исполняемые файлы).

---

**Интерпретация (Python, JavaScript):**

```bash
# Запуск программы на Python
python script.py
```

**Плюсы:**
- Не нужна компиляция — написал код, сразу запустил.
- Кросс-платформенность (один и тот же скрипт работает везде).

**Минусы:**
- Медленнее компилируемых языков (в 10-100 раз).
- Нужен интерпретатор на целевой машине.

---

**JIT-компиляция (Just-In-Time): гибрид**

**Примеры:** Java (JVM), JavaScript (V8 в Chrome), C# (.NET).

**Как работает:**
- Код компилируется в **байт-код** (промежуточное представление).
- При запуске JIT-компилятор переводит байт-код в машинный код **на лету**, прямо во время выполнения.
- Часто используемые участки кода компилируются с оптимизацией (hotspot optimization).

**Плюсы:**
- Кросс-платформенность (байт-код запускается на любой JVM).
- Скорость близка к компилируемым языкам (после прогрева JIT).

**Минусы:**
- Жрёт память (JVM может занимать гигабайты).
- Первый запуск медленнее (JIT греется).

**Пример:** Java-программа запускается медленно первые 10 секунд (JIT компилирует код), потом работает быстро.

---

### Middleware: клей для микросервисов

**Middleware** — это программы, которые связывают разные части системы. Особенно важны в **микросервисной архитектуре**, где приложение разбито на десятки маленьких сервисов.

**Примеры:**

**1. Веб-серверы:**
- **nginx** — лёгкий, быстрый, популярный (30% сайтов).
- **Apache HTTP Server** — старый, надёжный, гибкий (20% сайтов).
- **IIS (Internet Information Services)** — веб-сервер Windows.

**2. Серверы приложений:**
- **Apache Tomcat** — для Java-приложений (JSP, Servlets).
- **Node.js** — JavaScript на сервере (асинхронный, быстрый).

**3. Брокеры сообщений:**
- **RabbitMQ** — очереди сообщений между сервисами.
- **Apache Kafka** — стриминг данных (используется в Twitter, LinkedIn, Netflix).

**Пример:** Заказал еду в приложении доставки.
1. Фронтенд (React) отправляет запрос на API-шлюз (nginx).
2. API-шлюз перенаправляет на сервис заказов (Java + Spring Boot на Tomcat).
3. Сервис заказов кладёт сообщение в очередь RabbitMQ: "Новый заказ".
4. Сервис уведомлений (Python) читает очередь, отправляет push-уведомление курьеру.
5. Курьер видит заказ в своём приложении.

**Вывод:** Middleware связывает компоненты. Без него микросервисы не могут общаться.

---

## 3.2.4. Прикладное ПО: программы для людей

Прикладное ПО — это финальный продукт. То, что видит пользователь.

---

### ПО общего назначения: для всех

#### Офисные пакеты

**Microsoft Office** (платный, ~$100/год):
- **Word** — текстовый редактор.
- **Excel** — табличный процессор (формулы, графики, макросы).
- **PowerPoint** — презентации.
- **Outlook** — почта, календарь.

**LibreOffice** (бесплатный, open-source):
- Альтернатива MS Office.
- Совместим с форматами `.docx`, `.xlsx`, `.pptx`.
- Минус: иногда криво отображает сложные документы.

**Google Docs / Sheets / Slides** (бесплатный, облачный):
- Работает в браузере.
- Автосохранение, совместная работа в реальном времени.
- Минус: нужен интернет (хотя есть офлайн-режим).

---

#### Браузеры: окно в интернет

**Chrome** (Google):
- Самый популярный (65% рынка, 2025).
- Быстрый, расширяемый (тысячи плагинов).
- **Минус:** Жрёт RAM как зверь. Открыл 20 вкладок → 8 GB памяти улетело.

**Firefox** (Mozilla):
- Уважение за приватность (меньше слежки, чем у Chrome).
- Open-source.
- **Минус:** Доля рынка падает (~3%). Некоторые сайты оптимизированы под Chrome.

**Safari** (Apple):
- Встроенный в macOS / iOS.
- Оптимизирован под Apple Silicon (энергоэффективность).
- **Минус:** Только для устройств Apple. Веб-разработчики его ненавидят (медленно внедряет новые стандарты).

**Edge** (Microsoft):
- Построен на движке Chromium (как Chrome).
- Интеграция с Windows 11.
- **Неожиданно неплохой.** В 2020 все смеялись, в 2025 — ~5% рынка.

**Почему Chrome жрёт RAM?**
- Каждая вкладка — отдельный процесс (изоляция для безопасности).
- Если одна вкладка крашнется — другие выживут.
- Цена: 100-300 MB на вкладку.
- Открыл 50 вкладок → 15 GB RAM. Компьютер тормозит. Страдания.

---

#### Медиаплееры

**VLC Media Player:**
- Воспроизводит **всё** (даже полуразбитые файлы, недокачанные торренты).
- Бесплатный, open-source.
- Легенда. Иконка с дорожным конусом — символ надёжности.

**Spotify / Apple Music / YouTube Music:**
- Стриминг музыки (десятки миллионов треков за $10/месяц).
- Минус: музыка не твоя (подписка закончилась → музыка пропала).

---

### Специализированное ПО: для профессионалов

#### IDE для разработчиков

**Visual Studio Code (VS Code):**
- Лёгкий, быстрый, бесплатный.
- Поддержка всех языков (через расширения).
- Самая популярная IDE (2025). Даже те, кто ненавидел Microsoft, признали: VS Code — огонь.

**JetBrains (PyCharm, IntelliJ IDEA, WebStorm):**
- Мощные, с умными подсказками (IntelliSense на стероидах).
- Платные (~$200/год), но есть бесплатные версии (Community Edition).
- Медленнее VS Code, но функциональнее.

**Visual Studio (полная версия):**
- Монстр от Microsoft для C++, C#, .NET.
- Весит 10-40 GB (с компонентами).
- Используется в крупных корпорациях (игры, банки).

---

#### Графика и дизайн

**Adobe Creative Suite** (платный, ~$60/месяц):
- **Photoshop** — растровая графика (фото, дизайн, мемы).
- **Illustrator** — векторная графика (логотипы, иконки).
- **Premiere Pro** — видеомонтаж.
- **After Effects** — моушн-дизайн, спецэффекты.

**Бесплатные альтернативы:**
- **GIMP** — замена Photoshop (не такой удобный, но бесплатный).
- **Inkscape** — замена Illustrator.
- **DaVinci Resolve** — профессиональный видеомонтаж (бесплатная версия мощная, платная — $300 один раз, не подписка).
- **Blender** — 3D-моделирование, анимация. Бесплатный, но используется в фильмах (Spider-Man: Across the Spider-Verse) и играх.

**Почему Adobe доминирует?**
- Индустриальный стандарт (все дизайнеры используют → все файлы в форматах Adobe).
- Удобный интерфейс (годы шлифовки).
- Интеграция между программами (из Photoshop в Illustrator — один клик).

**Минус:** Подписка ($60/месяц = $720/год). Если перестанешь платить → потеряешь доступ к своим проектам (файлы не откроются в старых версиях). Монополия в действии.

---

#### Инженерное ПО

**MATLAB:**
- Математическое моделирование (матрицы, дифференциальные уравнения, симуляции).
- Студенты физтеха, привет!
- Платный ($2000+), но университеты дают лицензии.
- Альтернатива: **GNU Octave** (бесплатная, совместима с MATLAB).

**AutoCAD:**
- Проектирование зданий, механизмов, электросхем.
- Стандарт в архитектуре и машиностроении.
- Платный ($1500/год).
- Альтернатива: **FreeCAD** (бесплатный, но слабее).

---

### Встроенное ПО (Firmware)

**Firmware (прошивка)** — это программы, зашитые в устройства. Они работают без ОС (или с минимальной ОС).

**Примеры:**
- **Роутер:** прошивка на базе Linux (OpenWrt, DD-WRT) управляет Wi-Fi, маршрутизацией.
- **Принтер:** прошивка обрабатывает задания на печать.
- **Смарт-ТВ:** прошивка на базе Android TV / webOS (LG) / Tizen (Samsung).
- **BIOS/UEFI:** прошивка материнской платы.

**Особенность:** Firmware часто невозможно (или сложно) обновить. Если баг в прошивке роутера — нужно обновление от производителя (или кастомная прошивка, если рискуешь).

---

## 3.2.5. Связь с другими главами

- **[Глава 2.1](02_01_архитектура_эвм.md)-2.3 (Архитектура ЭВМ):** ПО работает на железе, которое мы изучали в разделе 2. Без процессора и памяти ПО бесполезно.
- **[Глава 3.1](03_01_операционные_системы.md) (ОС):** ОС — это фундамент системного уровня. Все остальные программы работают поверх ОС.
- **[Глава 3.3](03_03_системное_по.md) (Классификация системного ПО):** Следующая глава углубится в системное ПО (драйверы, утилиты, ОС).
- **[Глава 6.2](06_02_языки_компиляторы.md) (Компиляторы и интерпретаторы):** Детально разберём, как код превращается в программу.
- **Глава 7 (Базы данных):** СУБД (PostgreSQL, MySQL) — это сервисное ПО для хранения данных.
- **Глава 8 (Сети):** Браузеры и серверы используют сетевые протоколы (HTTP, TCP/IP) для обмена данными.

---

## Примеры для понимания

### Пример 1: Цепочка взаимодействия уровней (игра)

**Задача:** Ты играешь в Cyberpunk 2077 на Windows. Опиши, как уровни ПО взаимодействуют.

**Решение:**

1. **Прикладной уровень:** Игра Cyberpunk 2077 (прикладное ПО).
2. **Сервисный уровень:** Игра использует DirectX 12 API для отрисовки графики.
3. **Системный уровень:** DirectX 12 вызывает драйвер видеокарты NVIDIA.
4. **Аппаратный уровень:** Драйвер отправляет команды на GPU (GeForce RTX 4090), который рендерит кадры.

**Результат:** Ты видишь красивую картинку на экране (60 FPS, если повезло).

**Если какой-то уровень сломается:**
- Игра крашнется (баг в Cyberpunk 2077) → закроется окно игры.
- DirectX 12 работает криво → графические артефакты, лаги.
- Драйвер видеокарты крашнется → экран погаснет, ОС может упасть (BSOD).
- GPU сгорит → компьютер выключится (RIP видеокарта).

---

### Пример 2: Сравнение компиляции и интерпретации

**Задача:** Программа вычисляет факториал числа \(n = 20\). Сравни время выполнения на C (компилятор GCC) и Python (интерпретатор CPython).

**Код на C:**
```c
#include <stdio.h>

unsigned long long factorial(int n) {
    unsigned long long result = 1;
    for (int i = 2; i <= n; i++) {
        result *= i;
    }
    return result;
}

int main() {
    printf("%llu\n", factorial(20));
    return 0;
}
```

**Код на Python:**
```python
def factorial(n):
    result = 1
    for i in range(2, n + 1):
        result *= i
    return result

print(factorial(20))
```

**Время выполнения (условный тест, миллионы итераций):**

| Язык       | Время (секунды) | Скорость относительно C |
|------------|-----------------|-------------------------|
| C (GCC -O3)| 0.5             | 1x (базовая)            |
| C (без оптимизации) | 2.0   | 4x медленнее            |
| Python 3.11| 50              | 100x медленнее          |

**Вывод:** C быстрее Python в 100 раз. Но Python пишется быстрее (меньше кода, не нужна компиляция). Выбор зависит от задачи: критична скорость выполнения или скорость разработки?

---

### Пример 3: Размер программ разных уровней

**Задача:** Сравни размер исполняемых файлов разных программ.

| Программа            | Уровень ПО | Размер      | Язык      |
|----------------------|------------|-------------|-----------|
| `hello.c` (простая)  | Прикладное | 16 KB       | C         |
| `htop` (утилита)     | Системное  | 200 KB      | C         |
| Chrome (браузер)     | Прикладное | 350 MB      | C++       |
| Visual Studio Code   | Прикладное | 400 MB      | TypeScript (Electron) |
| Linux kernel (ядро)  | Системное  | 30 GB (исходники), 10 MB (скомпилированное ядро) | C |

**Вывод:** Современные программы весят сотни мегабайт. Ядро Linux (10 MB) выглядит крошечным по сравнению с Chrome (350 MB), но содержит 30 миллионов строк кода. Размер исполняемого файла ≠ сложность.

---

### Пример 4: API как контракт

**Задача:** Программа на C++ выводит текст на экран через `std::cout`. Что происходит под капотом?

**Код:**
```cpp
#include <iostream>

int main() {
    std::cout << "Hello, World!" << std::endl;
    return 0;
}
```

**Цепочка вызовов:**
1. `std::cout` — объект стандартной библиотеки C++ (сервисный уровень).
2. `std::cout` вызывает `printf()` из `libc` (сервисный уровень).
3. `printf()` вызывает системный вызов `write()` (системный уровень).
4. Ядро Linux передаёт данные драйверу терминала (системный уровень).
5. Драйвер отображает текст на экране (аппаратный уровень).

**Вывод:** Одна строка кода → пять уровней абстракции. Программист видит простой интерфейс, а за кулисами — сложная машинерия.

---

### Пример 5: Middleware в микросервисах

**Задача:** Онлайн-магазин (Amazon, Aliexpress) построен на микросервисах. Как они общаются?

**Архитектура:**
- **Фронтенд:** React (прикладное ПО) — интерфейс для пользователя.
- **API Gateway:** nginx (middleware) — принимает запросы, перенаправляет на нужный сервис.
- **Сервисы:**
  - Сервис товаров (Java) — каталог, поиск.
  - Сервис корзины (Python) — добавление товаров.
  - Сервис оплаты (Go) — обработка платежей.
- **Брокер сообщений:** RabbitMQ (middleware) — очереди для асинхронных задач (отправка email, обновление склада).
- **База данных:** PostgreSQL (сервисное ПО) — хранение данных.

**Сценарий:** Ты добавил товар в корзину и оплатил заказ.

1. Фронтенд → API Gateway (nginx) → Сервис корзины (добавление товара).
2. Ты нажал "Оплатить" → API Gateway → Сервис оплаты (обработка карты).
3. Сервис оплаты кладёт сообщение в очередь RabbitMQ: "Заказ оплачен".
4. Сервис уведомлений читает очередь, отправляет email: "Спасибо за заказ".
5. Сервис склада читает очередь, уменьшает количество товара.

**Вывод:** Middleware (nginx, RabbitMQ) связывает сервисы. Без него архитектура развалится.

---

## Ключевые термины и определения

- **Программное обеспечение (ПО, Software)** — набор программ для выполнения задач на компьютере.
- **Аппаратный уровень (Hardware Layer)** — физическое железо (CPU, RAM, диски, GPU) + BIOS/UEFI.
- **Системный уровень (System Software Layer)** — ОС, драйверы, системные утилиты. Управляет железом.
- **Сервисный уровень (Service Software / Middleware)** — библиотеки, API, компиляторы, отладчики, серверы приложений. Инструменты для разработки.
- **Прикладной уровень (Application Software Layer)** — программы для конечных пользователей (браузеры, игры, офисные пакеты).
- **API (Application Programming Interface)** — набор функций для взаимодействия с системой или библиотекой.
- **Библиотека (Library)** — набор готовых функций для решения типовых задач (libc, WinAPI, DirectX).
- **Компилятор (Compiler)** — переводит код на языке программирования в машинный код (GCC, Clang, javac).
- **Интерпретатор (Interpreter)** — выполняет код построчно без компиляции (Python, JavaScript).
- **JIT-компиляция (Just-In-Time)** — компиляция байт-кода в машинный код во время выполнения (Java, C#, JavaScript).
- **Драйвер (Driver)** — программа для управления конкретным устройством (видеокарта, принтер, мышь).
- **Middleware** — промежуточное ПО для связи компонентов (веб-серверы, брокеры сообщений).
- **Firmware (прошивка)** — программы, зашитые в устройства (роутеры, принтеры, BIOS).
- **ПО общего назначения** — программы для широкого круга задач (браузеры, офисные пакеты, медиаплееры).
- **Специализированное ПО** — программы для профессионалов (IDE, графические редакторы, CAD).
- **Системный вызов (System Call)** — запрос программы к ядру ОС для выполнения привилегированной операции.

---

## Контрольные вопросы

1. **Теория:** Опиши иерархию уровней ПО (аппаратный, системный, сервисный, прикладной). Приведи по два примера программ для каждого уровня. Почему уровни важны?

2. **Практика:** Ты запускаешь игру Cyberpunk 2077 на ПК с Windows. Игра использует DirectX 12 для отрисовки графики. Опиши цепочку взаимодействия уровней ПО от клика мышкой в игре до отображения кадра на экране. Укажи, какие уровни задействованы на каждом этапе.

3. **Сравнение:** В чём разница между системным ПО (драйвер видеокарты) и прикладным ПО (игра)? Что произойдёт, если драйвер крашнется? А если крашнется игра?

4. **API и библиотеки:** Зачем нужны API (например, WinAPI, OpenGL)? Почему программисты не пишут всё с нуля, а используют готовые библиотеки? Приведи пример: как `printf()` в C работает с ОС.

5. **Компиляция vs интерпретация:** Программа на C (компилятор GCC) работает в 100 раз быстрее, чем на Python (интерпретатор). Но Python популярнее в веб-разработке и анализе данных. Почему? В каких задачах скорость выполнения критична, а в каких — скорость разработки важнее?

---

**Итог:** Программное обеспечение организовано в уровни: аппаратный (железо), системный (ОС + драйверы), сервисный (библиотеки + компиляторы), прикладной (программы для людей). Каждый уровень опирается на предыдущий. Системное ПО управляет железом, сервисное ПО предоставляет инструменты для разработки, прикладное ПО решает задачи пользователей. Без слоёной архитектуры компьютеры были бы непрограммируемыми монстрами, а программисты писали бы всё на ассемблере и умирали от депрессии.

Следующая глава (3.3) — классификация системного ПО: детально разберём ОС, драйверы, утилиты, и зачем вообще нужны антивирусы (спойлер: Windows Defender уже неплох).


---

[← К оглавлению](README.md)

*Глава 3.2: Уровни программного обеспечения. Сервисное и прикладное ПО*
