[← К оглавлению](README.md)

---

# [Глава 3.3](03_03_системное_по.md): Классификация системного программного обеспечения

## Введение

Итак, в [Глава 3.1](03_01_операционные_системы.md) мы разобрались, что **операционная система** — это менеджер, который управляет железом и не даёт процессам убить друг друга. В [Глава 3.2](03_02_уровни_по_прикладное.md) построили слоёный пирог из уровней ПО: от железа до игр. Теперь пора нырнуть глубже в **системное ПО** — самый фундаментальный слой программ, который стоит между голым железом и всем остальным софтом.

**Системное ПО** — это программы, которые управляют железом и обеспечивают работу других программ. Без системного ПО компьютер — это кирпич с вентиляторами. С системным ПО — это машина, которая может делать что угодно: от запуска игры до управления марсоходом.

В этой главе разберём:
- Что такое системное ПО и зачем оно нужно
- **Операционные системы** (краткое напоминание из [Глава 3.1](03_01_операционные_системы.md))
- **Драйверы** — переводчики между ОС и железом (и почему они вызывают BSOD)
- **Системные утилиты** — армия помощников для управления системой (диспетчер задач, антивирусы, архиваторы)
- Почему кривой драйвер видеокарты может положить всю систему, а вылет игры — нет

---

## 3.3.1. Определение системного ПО

**Системное программное обеспечение (системное ПО)** — это набор программ, которые управляют аппаратными ресурсами компьютера и обеспечивают платформу для выполнения прикладных программ.

**Ключевые характеристики системного ПО:**

1. **Работает близко к железу:** Системное ПО напрямую взаимодействует с процессором, памятью, дисками, устройствами ввода-вывода. Одна ошибка — и система падает.

2. **Обязательно для работы компьютера:** Без системного ПО компьютер не может функционировать. Без прикладного ПО (игры, браузеры) компьютер работает, но скучно.

3. **Пишется на низкоуровневых языках:** C, C++, Assembly, Rust. Производительность критична, абстракции — роскошь.

4. **Ошибки катастрофичны:** Баг в игре → игра вылетит. Баг в драйвере → Blue Screen of Death. Баг в ядре → система мертва.

**Три основных категории системного ПО:**

1. **Операционные системы (ОС)** — ядро системного ПО, управляет всем.
2. **Драйверы устройств** — переводчики между ОС и железом.
3. **Системные утилиты** — инструменты для управления и обслуживания системы.

Давай разберём каждую категорию.

---

## 3.3.2. Операционные системы (краткое напоминание)

В [Глава 3.1](03_01_операционные_системы.md) мы детально разобрали ОС. Вот краткая выжимка:

**Операционная система (ОС)** — это комплекс программ, которые управляют аппаратными ресурсами и предоставляют сервисы для пользовательских приложений.

### Основные функции ОС (коротко)

1. **Управление процессами:** Планирование, многозадачность, создание/уничтожение процессов.
2. **Управление памятью:** Виртуальная память, защита адресных пространств, подкачка страниц.
3. **Управление файловой системой:** Создание/чтение/запись/удаление файлов. NTFS, ext4, APFS.
4. **Управление устройствами ввода-вывода:** Загрузка драйверов, буферизация данных.
5. **Пользовательский интерфейс:** CLI (командная строка) или GUI (графический интерфейс).

### Архитектура ядра (коротко)

- **Монолитное ядро (Linux):** Всё в одном адресном пространстве. Быстро, но рискованно.
- **Микроядро (Minix, QNX):** Минимальное ядро, драйверы в пользовательском режиме. Надёжно, но медленнее.
- **Гибридное ядро (Windows, macOS):** Компромисс между монолитным и микроядром.

### Примеры ОС

- **Windows** (настольные ПК, игры) — гибридное ядро, NTFS.
- **Linux** (серверы, встраиваемые системы, Android) — монолитное ядро, ext4.
- **macOS** (Mac, дизайн, разработка) — гибридное ядро (XNU), APFS.
- **Android / iOS** (смартфоны, планшеты).

**Вывод:** ОС — это фундамент системного ПО. Без ОС драйверы и утилиты бесполезны.

---

## 3.3.3. Драйверы устройств

**Драйвер (Device Driver)** — это программа, которая переводит команды операционной системы в инструкции для конкретного устройства (видеокарта, принтер, клавиатура, мышь, диск).

### Зачем нужны драйверы?

Представь, что ты — менеджер ресторана (ОС), а повара — это устройства (видеокарта, принтер, диск). Каждый повар говорит на своём языке: один — на итальянском, другой — на японском, третий — на кингонском. Ты не можешь напрямую дать им команды. Тебе нужны переводчики — **драйверы**.

**Без драйверов:**
- ОС не знает, как отправить данные на принтер HP LaserJet.
- ОС не знает, как заставить видеокарту NVIDIA нарисовать треугольник.
- ОС не знает, как прочитать данные с SSD Samsung 980 Pro.

**С драйверами:**
- Программа говорит ОС: "Выведи текст на экран".
- ОС говорит драйверу видеокарты: "Нарисуй текст".
- Драйвер переводит команду в инструкции для GPU.
- GPU рисует текст.

**Аналогия:** Драйвер — это адаптер питания. У тебя американская розетка (устройство), а вилка европейская (ОС). Без адаптера (драйвера) не работает.

---

### Типы драйверов по уровню работы

Драйверы работают на двух уровнях: **kernel-mode** (режим ядра) и **user-mode** (пользовательский режим).

#### 1. Kernel-mode drivers (драйверы режима ядра)

**Что это:** Драйверы, работающие в привилегированном режиме (kernel mode). Имеют полный доступ к памяти и железу.

**Примеры:**
- Драйверы видеокарт (NVIDIA, AMD) — управляют GPU.
- Драйверы дисковых контроллеров (SATA, NVMe) — управляют чтением/записью на диск.
- Драйверы сетевых карт (Ethernet, Wi-Fi) — управляют передачей пакетов.
- Драйверы USB-контроллеров.

**Особенности:**
- **Максимальная производительность:** Прямой доступ к железу, минимум задержек.
- **Максимальный риск:** Ошибка в драйвере → **Blue Screen of Death (BSOD)** в Windows или **kernel panic** в Linux.

**Почему kernel-mode драйверы опасны?**

Представь, что драйвер — это хирург, который оперирует мозг (ядро ОС). Если хирург ошибётся — пациент умрёт. Так же и с драйвером: если он запишет данные не туда, перезапишет память ядра, разыменует нулевой указатель — система упадёт.

**Пример из жизни:**

В 2009 году Microsoft выпустила обновление драйвера для AMD-процессоров. Драйвер содержал баг, который вызывал BSOD при загрузке Windows. Миллионы компьютеров по всему миру превратились в кирпичи. Microsoft откатила обновление за 3 дня, но репутация пострадала.

---

#### 2. User-mode drivers (драйверы пользовательского режима)

**Что это:** Драйверы, работающие как обычные программы (user mode). Не имеют прямого доступа к железу, обращаются к нему через ядро.

**Примеры:**
- Драйверы принтеров (HP, Canon, Epson) — обрабатывают задания на печать.
- Драйверы сканеров.
- Некоторые драйверы USB-устройств (веб-камеры, USB-флешки).

**Особенности:**
- **Безопасность:** Если драйвер крашнется, упадёт только он сам. Система выживет.
- **Медленнее:** Нужно переключаться между user mode и kernel mode (накладные расходы).

**Пример:**

Драйвер принтера HP LaserJet работает в user mode. Ты отправил документ на печать. Драйвер обрабатывает документ, формирует команды для принтера, отправляет их через USB. Если драйвер крашнется — печать не удастся, но ОС продолжит работать. Можешь перезапустить драйвер и попробовать снова.

---

### Типы драйверов по устройствам

#### 1. Драйверы видеокарт (GPU drivers)

**Назначение:** Управляют графическим процессором (GPU), переводят команды DirectX/OpenGL/Vulkan в инструкции для видеокарты.

**Примеры:**
- **NVIDIA GeForce drivers** — для видеокарт NVIDIA (GeForce RTX 4090, RTX 3080).
- **AMD Radeon drivers** — для видеокарт AMD (Radeon RX 7900 XTX).
- **Intel integrated graphics drivers** — для встроенной графики Intel.

**Почему драйверы GPU важны?**

Видеокарта без драйвера — это кусок металла, который греется. Драйвер превращает её в машину для рендеринга 3D-графики. Современные игры (Cyberpunk 2077, Elden Ring) используют миллиарды полигонов, сотни текстур, сложные шейдеры. Драйвер оптимизирует всё это, чтобы ты получил 60 FPS вместо 10.

**Проблемы с драйверами GPU:**

1. **BSOD (Blue Screen of Death):**
   - Драйвер NVIDIA содержит баг → обращается к несуществующему адресу памяти → ядро Windows падает → экран синий, текст "DRIVER_IRQL_NOT_LESS_OR_EQUAL".
   - Единственное решение: перезагрузка и обновление драйвера.

2. **Графические артефакты:**
   - Драйвер работает криво → текстуры мерцают, полигоны искажаются, экран покрывается квадратиками.
   - Часто помогает откат на старую версию драйвера.

3. **Несовместимость:**
   - Новая игра вышла → старый драйвер не поддерживает новые фичи → игра не запускается или лагает.
   - Решение: обновить драйвер.

**Пример:**

У тебя NVIDIA GeForce RTX 4090. Запустил Cyberpunk 2077 с трассировкой лучей (ray tracing). Игра тормозит (20 FPS). Обновил драйвер NVIDIA до последней версии (Game Ready Driver). FPS вырос до 60. Драйвер оптимизировал код под новую игру. Магия.

---

#### 2. Драйверы принтеров

**Назначение:** Переводят документ (Word, PDF) в команды для принтера (PostScript, PCL, ESC/P).

**Примеры:**
- HP LaserJet drivers
- Canon PIXMA drivers
- Epson drivers

**Особенности:**
- Работают в **user mode** (безопасно).
- Поддерживают разные форматы бумаги, разрешения, цветовые профили.

**Проблемы:**

1. **Несовместимость:**
   - Принтер HP LaserJet 1020 (2005 год). Windows 11 не содержит драйвера для него. Придётся искать на сайте HP (или мучиться с generic-драйвером).
   - Linux: драйвер может быть в пакете **CUPS** (Common Unix Printing System), а может и не быть. Тогда танцы с бубном.

2. **Зависание печати:**
   - Драйвер принтера зависает → задания на печать застревают в очереди → принтер не печатает.
   - Решение: перезапустить службу печати (Print Spooler в Windows, CUPS в Linux).

**Забавный факт:**

В Linux принтеры поддерживаются через **CUPS**. Для некоторых принтеров драйверов нет вообще. Решение: купить принтер с поддержкой AirPrint (протокол Apple) или использовать generic-драйвер (печать будет, но без настроек). Поэтому Linux-пользователи часто шутят: "Принтер? Не, не слышал."

---

#### 3. Драйверы сетевых карт

**Назначение:** Управляют сетевым адаптером (Ethernet, Wi-Fi), передают и принимают пакеты данных.

**Примеры:**
- Realtek Ethernet drivers (популярные в дешёвых материнских платах)
- Intel Wi-Fi drivers
- Broadcom Wi-Fi drivers (популярны в ноутбуках)

**Особенности:**
- Работают в **kernel mode** (производительность критична).
- Поддерживают TCP/IP стек, протоколы Ethernet/Wi-Fi (802.11ac, 802.11ax).

**Проблемы:**

1. **Нет интернета после установки ОС:**
   - Установил Windows/Linux → драйвер сетевой карты не установлен → нет интернета → не можешь скачать драйвер (парадокс).
   - Решение: скачать драйвер на другом компьютере, перенести на флешке.

2. **Wi-Fi не работает в Linux:**
   - Многие Wi-Fi-чипы (особенно Broadcom) требуют проприетарных драйверов (закрытый код).
   - Linux поставляется с открытыми драйверами, которые не поддерживают все чипы.
   - Решение: установить проприетарный драйвер вручную (боль).

**Пример:**

Купил новый ноутбук с Wi-Fi 6E (Intel AX210). Установил Ubuntu 20.04. Wi-Fi не работает. Драйвер для AX210 появился в ядре Linux 5.10, а в Ubuntu 20.04 ядро 5.4. Решение: обновить ядро до 5.10+ или установить драйвер вручную (iwlwifi).

---

#### 4. Драйверы звуковых карт

**Назначение:** Управляют аудио-устройствами (встроенная звуковая карта, внешние аудиоинтерфейсы).

**Примеры:**
- Realtek High Definition Audio drivers (99% встроенных звуковых карт)
- Creative Sound Blaster drivers
- ASIO drivers (для профессионального аудио)

**Особенности:**
- Работают в **kernel mode**.
- Поддерживают разные форматы: стерео, 5.1, 7.1, Dolby Atmos.

**Проблема:**

Звук пропал после обновления Windows → драйвер Realtek сломался → переустановил драйвер → звук появился. Классика.

---

#### 5. Драйверы USB-устройств

**Назначение:** Управляют USB-устройствами (флешки, мышки, клавиатуры, веб-камеры).

**Особенности:**
- Большинство USB-устройств работают через **generic-драйверы** (стандартные драйверы ОС).
- Например, USB-флешка работает сразу после подключения (драйвер USB Mass Storage встроен в ОС).
- Специфичные устройства (принтеры, сканеры, игровые рули) требуют отдельных драйверов.

**Пример:**

Подключил USB-флешку → Windows автоматически загрузила драйвер → флешка появилась в проводнике. Подключил игровой руль Logitech G29 → Windows загрузила generic-драйвер (руль работает, но без настройки кнопок) → установил драйвер Logitech Profiler → теперь можно настроить кнопки и силовую обратную связь (force feedback).

---

### Обновление драйверов: зачем и как?

**Зачем обновлять драйверы?**

1. **Исправление багов:** Старый драйвер содержит баги → новый драйвер их исправляет.
2. **Поддержка новых устройств/функций:** Новая игра требует фичи DirectX 12 Ultimate → старый драйвер не поддерживает → нужно обновить.
3. **Оптимизация производительности:** Драйверы видеокарт регулярно обновляются под новые игры (Game Ready Drivers от NVIDIA).
4. **Безопасность:** Драйверы могут содержать уязвимости → обновление закрывает дыры.

**Как обновлять драйверы?**

**Windows:**
- **Автоматически:** Windows Update загружает драйверы автоматически.
- **Вручную:** Диспетчер устройств → правой кнопкой на устройство → "Обновить драйвер".
- **Сайт производителя:** Скачать драйвер с сайта NVIDIA / AMD / Intel / HP.

**Linux:**
- **Автоматически:** Ядро содержит большинство драйверов. Обновление ядра = обновление драйверов.
- **Вручную:** Для проприетарных драйверов (NVIDIA) — установить через пакетный менеджер (`apt install nvidia-driver-XXX`).

**macOS:**
- Драйверы обновляются через System Updates. Apple контролирует всё железо, драйверы встроены в ОС.

**Проблема обновления:**

Иногда **новый драйвер хуже старого**. Например, NVIDIA выпустила драйвер 535.104.05 для Linux. Многие пользователи жаловались на снижение FPS в играх. Решение: откатиться на предыдущую версию (535.98).

**Правило:** Если старый драйвер работает нормально — не трогай его (ain't broke, don't fix it).

---

## 3.3.4. Системные утилиты

**Системные утилиты** — это программы для управления, обслуживания и настройки операционной системы. Они не управляют железом напрямую (как драйверы), но работают тесно с ОС.

### Категории системных утилит

---

#### 1. Утилиты управления системой

Эти программы позволяют контролировать состояние системы: процессы, память, диски, сеть.

---

##### а) Диспетчер задач (Task Manager / System Monitor)

**Назначение:** Показывает запущенные процессы, потребление CPU/RAM/диска/сети. Позволяет завершить зависший процесс.

**Примеры:**
- **Windows:** Task Manager (Ctrl+Shift+Esc).
- **Linux:** `top`, `htop`, GNOME System Monitor.
- **macOS:** Activity Monitor.

**Что показывает:**
- Список процессов (программ).
- Потребление CPU (% на каждое ядро).
- Потребление RAM (сколько занято / свободно).
- Дисковая активность (чтение/запись в MB/s).
- Сетевая активность (скачивание/отдача в MB/s).

**Пример использования:**

Компьютер тормозит. Открыл Task Manager. Процесс `Chrome.exe` жрёт 8 GB RAM и 100% CPU. Завершил процесс → компьютер ожил.

**Забавный факт:**

Chrome создаёт отдельный процесс для каждой вкладки. Открыл 50 вкладок → в Task Manager 50 процессов `chrome.exe`. Это для безопасности (одна вкладка крашнется — другие выживут), но цена — RAM.

---

##### б) Диспетчер дисков (Disk Management / fdisk / gparted)

**Назначение:** Управление дисками и разделами (создание, удаление, форматирование, изменение размера).

**Примеры:**
- **Windows:** Disk Management (`diskmgmt.msc`).
- **Linux:** `fdisk` (командная строка), `gparted` (графический).
- **macOS:** Disk Utility.

**Что можно делать:**
- Создать новый раздел (partition) на диске.
- Форматировать раздел (NTFS, ext4, FAT32).
- Изменить размер раздела (расширить / сжать).
- Назначить букву диска (Windows: C:, D:, E:).

**Пример:**

Купил новый SSD 1 TB. Подключил к компьютеру. Открыл Disk Management. Диск не размечен (unallocated). Создал раздел, отформатировал в NTFS, назначил букву E:. Теперь диск доступен в проводнике.

**Важно:** Форматирование диска **удаляет все данные**. Будь осторожен.

---

##### в) Редактор реестра (Registry Editor, Windows)

**Что это:** **Реестр Windows (Registry)** — это централизованная база данных настроек ОС и программ. Хранит конфигурацию системы, параметры программ, настройки драйверов.

**Утилита:** Registry Editor (`regedit.exe`).

**Структура реестра:**
- **HKEY_LOCAL_MACHINE (HKLM):** Настройки для всего компьютера (ОС, драйверы).
- **HKEY_CURRENT_USER (HKCU):** Настройки текущего пользователя.
- **HKEY_CLASSES_ROOT (HKCR):** Ассоциации файлов (какая программа открывает .txt, .mp3).

**Пример:**

Хочешь изменить обои рабочего стола через реестр (зачем? не знаю, но можно):
- Открыл `regedit`.
- Перешёл в `HKEY_CURRENT_USER\Control Panel\Desktop`.
- Изменил значение `Wallpaper` на путь к картинке.
- Перезагрузил систему → обои изменились.

**Опасность:**

Изменение реестра может сломать систему. Удалил не тот ключ → Windows не загружается. **Не лезь в реестр, если не знаешь, что делаешь.**

---

#### 2. Утилиты обслуживания системы

Эти программы поддерживают систему в рабочем состоянии: чистят диск, дефрагментируют, делают резервные копии.

---

##### а) Дефрагментация диска (Disk Defragmenter)

**Что это:** **Дефрагментация** — это процесс упорядочивания файлов на жёстком диске (HDD), чтобы они лежали последовательно, а не разбросаны по всему диску.

**Зачем нужна (для HDD):**

Жёсткий диск (HDD) — это магнитный диск с головкой, которая движется физически. Если файл разбит на фрагменты, разбросанные по всему диску, головке приходится прыгать туда-сюда (seek time). Это медленно.

Дефрагментация собирает фрагменты файла вместе → головка читает файл последовательно → скорость чтения выше.

**Для SSD дефрагментация ВРЕДНА:**

SSD (твердотельный накопитель) — это флеш-память, там нет движущихся частей. Доступ к любой ячейке одинаково быстрый. Дефрагментация бесполезна.

Более того, **дефрагментация SSD сокращает срок его жизни**, потому что SSD имеют ограниченное количество циклов записи (P/E cycles, program/erase cycles). Дефрагментация = лишние записи = износ.

**Для SSD используется TRIM:**

**TRIM** — команда, которая сообщает SSD, какие блоки данных больше не используются. SSD может стереть их заранее, чтобы ускорить будущие записи.

**Пример:**

У тебя HDD 1 TB, забит на 80%. Файлы фрагментированы. Запустил дефрагментацию (Windows: Optimize Drives). Процесс занял 2 часа. После дефрагментации загрузка системы ускорилась на 20%.

У тебя SSD 500 GB. Дефрагментация **не нужна**. Windows 10/11 автоматически запускает TRIM (Optimize Drives для SSD = TRIM, не дефрагментация).

---

##### б) Очистка диска (Disk Cleanup / BleachBit)

**Назначение:** Удаление ненужных файлов: временные файлы, кэш браузеров, старые обновления, корзина.

**Примеры:**
- **Windows:** Disk Cleanup (`cleanmgr.exe`).
- **Linux:** BleachBit (графический), `apt autoremove` (командная строка).
- **macOS:** встроенная очистка в Storage Management.

**Что можно удалить:**
- Временные файлы (`C:\Windows\Temp`).
- Кэш браузера (Chrome кэширует гигабайты данных).
- Старые обновления Windows (папка `C:\Windows.old` может занимать 20+ GB).
- Корзина (удалённые файлы висят в корзине, занимая место).

**Пример:**

Диск C: забит (осталось 2 GB). Запустил Disk Cleanup. Удалил временные файлы (5 GB), старые обновления (15 GB), кэш браузера (3 GB). Освободил 23 GB. Облегчение.

---

##### в) Резервное копирование (Backup)

**Назначение:** Создание копии данных на случай сбоя (диск сдох, вирус зашифровал файлы, случайно удалил важный документ).

**Примеры:**
- **Windows:** Windows Backup, File History.
- **Linux:** `rsync`, Timeshift (системные снапшоты).
- **macOS:** Time Machine (легендарная утилита, делает снапшоты автоматически).

**Типы бэкапов:**

1. **Полный бэкап (Full Backup):** Копируются все файлы. Занимает много места, долго.
2. **Инкрементальный бэкап (Incremental Backup):** Копируются только изменённые файлы с последнего бэкапа. Быстрее, меньше места.
3. **Дифференциальный бэкап (Differential Backup):** Копируются файлы, изменённые с последнего полного бэкапа.

**Правило 3-2-1:**
- **3 копии данных** (оригинал + 2 бэкапа).
- **2 разных носителя** (например, диск + облако).
- **1 копия офлайн** (внешний диск, отключённый от компьютера, защита от вируса-шифровальщика).

**Пример:**

Работаешь над дипломом. Хранишь файл на ноутбуке. Ноутбук украли. Диплом потерян. Пишешь заново (слёзы).

**Лучше:**
- Оригинал на ноутбуке.
- Бэкап на внешнем диске (каждый вечер копируешь).
- Бэкап в облаке (Google Drive, Dropbox, OneDrive).

Ноутбук украли → открыл Google Drive на другом компьютере → скачал диплом. Всё цело. Спасибо бэкапам.

---

#### 3. Архиваторы (связь с главой 1.12)

**Архиватор** — программа для сжатия файлов. Мы детально разбирали сжатие в [Глава 1.12](01_12_сжатие_информации.md) (RLE, Хаффман, LZW, Deflate, LZMA).

**Примеры:**
- **Windows:** WinRAR (платный, но "бесплатный" — все игнорируют лицензию), 7-Zip (бесплатный, лучший).
- **Linux:** `gzip`, `tar`, `xz`, `zip`.
- **macOS:** встроенный Archive Utility (ZIP), Keka (бесплатный, поддерживает 7z, RAR).

**Популярные форматы:**

| Формат | Алгоритм        | Степень сжатия | Скорость  | Применение                |
|--------|-----------------|----------------|-----------|---------------------------|
| **ZIP**    | Deflate         | Средняя        | Быстрая   | Универсальный (все ОС)    |
| **RAR**    | Proprietary     | Высокая        | Средняя   | Популярен в Windows       |
| **7z**     | LZMA            | Очень высокая  | Медленная | Максимальное сжатие       |
| **tar.gz** | gzip (Deflate)  | Средняя        | Быстрая   | Стандарт в Linux          |
| **tar.xz** | LZMA2           | Очень высокая  | Медленная | Архивы исходников (Linux) |

**Пример:**

Папка с фотографиями (1000 фото, 5 GB). Заархивировал в 7z → размер 4.8 GB (сжатие 4%, потому что JPEG уже сжат). Заархивировал папку с текстовыми документами (100 MB) → размер 10 MB (сжатие 90%, текст хорошо сжимается).

---

#### 4. Антивирусы

**Антивирус** — программа для защиты от вредоносного ПО (вирусы, трояны, черви, шифровальщики, рекламное ПО).

**Примеры:**
- **Windows Defender (Microsoft Defender):** Встроенный в Windows 10/11. Бесплатный, неплохой (2025 год — реально защищает).
- **Kaspersky:** Мощный, но платный (~$40/год). Популярен в России.
- **ESET NOD32:** Лёгкий, быстрый, платный.
- **ClamAV (Linux):** Бесплатный, open-source. Слабее коммерческих, но для серверов подходит.

**Как работает антивирус?**

1. **Сигнатуры вирусов:**
   - Антивирус содержит базу данных сигнатур (fingerprints) известных вирусов.
   - Сканирует файлы, сравнивает с базой. Совпадение → вирус обнаружен.
   - Проблема: новые вирусы (zero-day) не в базе, антивирус их не видит.

2. **Эвристический анализ:**
   - Антивирус анализирует поведение программы. Если она ведёт себя подозрительно (шифрует файлы, изменяет системные файлы, открывает сетевые соединения без разрешения) → блокирует.
   - Проблема: ложные срабатывания (false positives). Легальная программа может быть заблокирована.

3. **Песочница (Sandbox):**
   - Подозрительная программа запускается в изолированной среде (виртуальная машина). Антивирус смотрит, что она делает. Если ведёт себя зловредно → удаляет.

**Нужен ли антивирус?**

**Windows:**
- Да, но **Windows Defender достаточно** для большинства пользователей (2025 год). Не нужно платить за Kaspersky / Norton / McAfee.
- Главное: не качать пиратский софт с сомнительных сайтов, не кликать на "скачать бесплатно 1000 GB RAM".

**Linux:**
- Антивирус почти не нужен. Вирусов под Linux мало (меньше 1% рынка десктопов → не интересен хакерам).
- Основная угроза: серверы (веб-серверы могут быть взломаны через уязвимости в ПО).

**macOS:**
- Раньше считалось, что Mac защищён. Сейчас вирусы под macOS существуют (рекламное ПО, трояны).
- macOS имеет встроенную защиту (Gatekeeper, XProtect). Дополнительный антивирус желателен, но не обязателен.

**Пример:**

Скачал файл `crack_photoshop.exe` с сомнительного сайта. Windows Defender заблокировал: "Обнаружена угроза: Trojan:Win32/Wacatac". Удалил файл. Спасибо, Defender.

---

#### 5. Файловые менеджеры

**Файловый менеджер** — программа для управления файлами и папками (копирование, перемещение, удаление, переименование).

**Примеры:**

**Windows:**
- **Windows Explorer (File Explorer):** Встроенный файловый менеджер.
- **Total Commander:** Двухпанельный менеджер (удобен для работы с большим количеством файлов). Платный, но популярный.

**Linux:**
- **Nautilus (GNOME):** Файловый менеджер для GNOME (Ubuntu).
- **Dolphin (KDE):** Файловый менеджер для KDE (Kubuntu).
- **Midnight Commander (`mc`):** Консольный двухпанельный менеджер (для терминала).

**macOS:**
- **Finder:** Встроенный файловый менеджер.

**Зачем нужны альтернативные файловые менеджеры?**

Встроенные менеджеры (Explorer, Finder) просты, но ограничены. Профессиональные менеджеры (Total Commander, Midnight Commander) предлагают:
- Двухпанельный интерфейс (две папки рядом, удобно копировать).
- Массовое переименование файлов.
- Встроенный просмотр файлов (текст, изображения, видео).
- Работа с архивами (как с обычными папками).

**Пример:**

Нужно скопировать 1000 фотографий из папки A в папку B, но только те, которые весят > 5 MB. В Windows Explorer — мука (выделять вручную). В Total Commander — фильтр по размеру, выделение, копирование. 2 минуты.

---

## 3.3.5. Связь с другими главами

- **[Глава 2.1](02_01_архитектура_эвм.md)-2.3 (Архитектура ЭВМ, принципы фон Неймана):** Системное ПО управляет железом, о котором мы говорили в разделе 2 (процессор, память, диски).
- **[Глава 3.1](03_01_операционные_системы.md) (Операционные системы):** ОС — это ядро системного ПО. Драйверы и утилиты работают в связке с ОС.
- **[Глава 3.2](03_02_уровни_по_прикладное.md) (Уровни ПО):** Системное ПО — это нижний уровень (над железом, под сервисным и прикладным ПО).
- **[Глава 1.12](01_12_сжатие_информации.md) (Способы сжатия информации):** Архиваторы (7-Zip, WinRAR) используют алгоритмы сжатия (Deflate, LZMA), о которых мы говорили в [Глава 1.12](01_12_сжатие_информации.md).
- **Глава 5 (Алгоритмы):** Планировщик процессов в ОС, алгоритмы эвристического анализа в антивирусах.
- **Глава 9 (Информационная безопасность):** Антивирусы, защита от вирусов, уязвимости в драйверах.

---

## Примеры для понимания

### Пример 1: BSOD из-за драйвера

**Задача:** Почему кривой драйвер видеокарты вызывает Blue Screen of Death, а вылет игры — нет?

**Ответ:**

**Драйвер видеокарты** работает в **kernel mode** (режим ядра). Имеет полный доступ к памяти и железу. Если драйвер содержит баг (например, обращается к несуществующему адресу памяти), он может перезаписать память ядра ОС. Ядро обнаруживает повреждение и падает, чтобы предотвратить дальнейший ущерб (data corruption). Результат: **BSOD** (Blue Screen of Death).

**Игра** работает в **user mode** (пользовательский режим). Имеет доступ только к своей памяти. Если игра крашнется (баг, segmentation fault), ОС просто завершит процесс игры. Другие процессы (и ядро) не пострадают.

**Вывод:** Kernel-mode код опасен. Одна ошибка → вся система падает. User-mode код безопасен. Ошибка → падает только программа.

---

### Пример 2: Дефрагментация HDD vs TRIM на SSD

**Задача:** У тебя два диска: HDD 1 TB и SSD 500 GB. Когда нужна дефрагментация?

**Ответ:**

**HDD (жёсткий диск):**
- Дефрагментация **полезна**. Файлы фрагментированы → головка диска прыгает туда-сюда → медленно. Дефрагментация собирает фрагменты вместе → последовательное чтение → быстрее.
- Рекомендуется дефрагментировать HDD раз в месяц (если диск активно используется).

**SSD (твердотельный накопитель):**
- Дефрагментация **вредна**. SSD не имеет движущихся частей, доступ к любой ячейке одинаково быстрый. Дефрагментация = лишние записи → износ SSD.
- Вместо дефрагментации используется **TRIM** — команда, которая сообщает SSD, какие блоки данных больше не используются. SSD может стереть их заранее.

**Вывод:** Для HDD — дефрагментация. Для SSD — TRIM (автоматически в современных ОС).

---

### Пример 3: Работа антивируса (сигнатуры + эвристика)

**Задача:** Скачал файл `invoice.pdf.exe`. Антивирус заблокировал. Как он понял, что это вирус?

**Решение:**

**1. Сигнатура:**
- Антивирус рассчитал хеш файла (например, SHA-256): `a3f5c9d7e2b8...`.
- Сравнил с базой известных вирусов.
- Совпадение найдено: `Trojan:Win32/FakeInvoice`.
- Файл заблокирован.

**2. Эвристический анализ:**
- Антивирус проанализировал поведение:
  - Файл называется `invoice.pdf.exe` (двойное расширение — подозрительно).
  - Иконка замаскирована под PDF (трюк для обмана пользователя).
  - Файл пытается подключиться к серверу в Китае (C&C server, command and control).
  - Файл пытается изменить системный реестр Windows.
- Антивирус решил: это вирус.
- Файл заблокирован, помещён в карантин.

**Вывод:** Антивирусы используют сигнатуры (известные вирусы) и эвристику (подозрительное поведение).

---

### Пример 4: Использование диспетчера задач

**Задача:** Компьютер тормозит. Как найти, что жрёт ресурсы?

**Решение:**

1. Открыл **Task Manager** (Ctrl+Shift+Esc в Windows).
2. Вкладка **Processes** (Процессы).
3. Отсортировал по столбцу **CPU** (нагрузка на процессор).
4. Процесс `chrome.exe` жрёт 95% CPU.
5. Кликнул правой кнопкой → **End Task** (Завершить задачу).
6. Chrome закрылся → CPU разгрузился до 5%.

**Альтернатива:** Отсортировал по столбцу **Memory** (память). Процесс `chrome.exe` жрёт 8 GB из 16 GB RAM. Завершил процесс → освободилось 8 GB.

**Вывод:** Диспетчер задач — первый инструмент для диагностики тормозов.

---

### Пример 5: Архивация данных (7z vs ZIP)

**Задача:** Папка с исходным кодом проекта (10,000 файлов, 500 MB). Нужно заархивировать для отправки по почте. Сравни ZIP и 7z.

**Решение:**

**ZIP (Deflate):**
- Сжатие: 500 MB → 150 MB (коэффициент 3.3x).
- Время: 30 секунд.
- Совместимость: все ОС, любой архиватор откроет.

**7z (LZMA):**
- Сжатие: 500 MB → 80 MB (коэффициент 6.25x).
- Время: 2 минуты.
- Совместимость: нужен 7-Zip или аналог.

**Вывод:**
- Если важна скорость и совместимость → ZIP.
- Если важен размер (медленный интернет, лимит на размер письма) → 7z.

**Практика:**
- Исходный код (текстовые файлы, много повторений) сжимается отлично (6-10x).
- Фотографии (JPEG уже сжат) сжимаются плохо (1.05-1.2x, почти без толку).

---

## Ключевые термины и определения

- **Системное программное обеспечение (системное ПО)** — набор программ для управления аппаратными ресурсами и обеспечения платформы для выполнения прикладных программ.
- **Драйвер устройства (Device Driver)** — программа для управления конкретным устройством (видеокарта, принтер, диск, сетевая карта).
- **Kernel-mode driver (драйвер режима ядра)** — драйвер, работающий в привилегированном режиме (полный доступ к железу, но опасен — ошибка = BSOD).
- **User-mode driver (драйвер пользовательского режима)** — драйвер, работающий как обычная программа (безопаснее, но медленнее).
- **Blue Screen of Death (BSOD)** — критическая ошибка Windows, вызванная багом в ядре или драйвере (синий экран с текстом ошибки).
- **Kernel panic** — критическая ошибка Linux/macOS, аналог BSOD.
- **Системные утилиты** — программы для управления и обслуживания системы (диспетчер задач, дефрагментация, архиваторы, антивирусы).
- **Диспетчер задач (Task Manager)** — утилита для мониторинга процессов, CPU/RAM/диска/сети, завершения зависших программ.
- **Диспетчер дисков (Disk Management)** — утилита для управления разделами дисков (создание, форматирование, изменение размера).
- **Реестр Windows (Registry)** — централизованная база данных настроек ОС и программ.
- **Дефрагментация (Defragmentation)** — процесс упорядочивания файлов на HDD (для SSD не нужна и вредна).
- **TRIM** — команда для SSD, сообщающая, какие блоки данных больше не используются (оптимизация записи).
- **Резервное копирование (Backup)** — создание копии данных на случай сбоя (правило 3-2-1: 3 копии, 2 носителя, 1 офлайн).
- **Архиватор** — программа для сжатия файлов (WinRAR, 7-Zip, gzip, tar).
- **Антивирус** — программа для защиты от вредоносного ПО (вирусы, трояны, шифровальщики).
- **Сигнатура вируса** — уникальный отпечаток (fingerprint) известного вируса в базе данных антивируса.
- **Эвристический анализ** — метод обнаружения вирусов по подозрительному поведению (без сигнатуры).
- **Песочница (Sandbox)** — изолированная среда для запуска подозрительных программ (защита системы).
- **Файловый менеджер** — программа для управления файлами и папками (копирование, перемещение, удаление).

---

## Контрольные вопросы

1. **Теория:** Назови три категории системного ПО и приведи по два примера для каждой. Почему системное ПО критично для работы компьютера?

2. **Драйверы:** В чём разница между kernel-mode драйвером (видеокарта) и user-mode драйвером (принтер)? Почему баг в драйвере видеокарты может вызвать BSOD, а баг в драйвере принтера — нет?

3. **Практика:** Компьютер тормозит. Открыл Task Manager, процесс `chrome.exe` жрёт 100% CPU и 10 GB RAM. Что делать? Опиши последовательность действий. Почему Chrome создаёт десятки процессов?

4. **Дефрагментация:** У тебя два диска: HDD 1 TB (фрагментирован на 40%) и SSD 500 GB. Нужно ли дефрагментировать каждый из них? Объясни, почему дефрагментация SSD вредна. Что такое TRIM и зачем он нужен?

5. **Антивирусы:** Скачал файл `photo.jpg.exe`. Антивирус заблокировал. Как он понял, что это вирус? Опиши два метода обнаружения: сигнатуры и эвристический анализ. Почему zero-day вирусы опасны?

---

**Итог:** Системное программное обеспечение — это фундамент, без которого компьютер бесполезен. Операционная система управляет процессами и памятью, драйверы переводят команды ОС в инструкции для устройств, системные утилиты поддерживают систему в рабочем состоянии. Kernel-mode драйверы опасны (ошибка = BSOD), но быстры. User-mode драйверы безопасны, но медленнее. Дефрагментация полезна для HDD, но вредна для SSD (используй TRIM). Антивирусы защищают от вирусов через сигнатуры и эвристику, но Windows Defender (2025) уже достаточно хорош. Архиваторы сжимают данные (7z лучше ZIP, но медленнее). Делай бэкапы по правилу 3-2-1, чтобы не потерять всё при крахе.

Следующая глава (4.1) — Жизненный цикл баз данных. Переходим к разделу 4 (Модели решения задач). Впереди — алгоритмы, программирование, базы данных, и сети.


---

[← К оглавлению](README.md)

*Глава 3.3: Классификация системного программного обеспечения*
