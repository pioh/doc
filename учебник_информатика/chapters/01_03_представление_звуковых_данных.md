# Глава 1.3: Представление звуковых данных в двоичном коде

## Введение

Звук является одним из важнейших способов передачи информации в современном мире. От музыки и речи до звуковых эффектов в компьютерных играх — всё это необходимо представить в двоичном коде для обработки, хранения и передачи с помощью ЭВМ. В отличие от текстовых и числовых данных, которые по своей природе дискретны, звук представляет собой непрерывный (аналоговый) сигнал, что создаёт особые задачи при его цифровом представлении.

В этой главе мы рассмотрим, как происходит преобразование аналогового звукового сигнала в цифровую форму, изучим ключевые параметры, влияющие на качество и размер звуковых данных, а также познакомимся с методами хранения и сжатия аудиоинформации. Понимание этих принципов важно не только для работы с мультимедийными приложениями, но и для осознания общих принципов представления непрерывных величин в дискретной системе ЭВМ.

Эта глава тесно связана с главой 1.2 (представление данных в памяти ЭВМ), так как мы будем рассматривать, сколько байтов занимают звуковые данные и как они организованы в памяти. Также знания из главы 1.1 (двоичная арифметика) помогут понять расчёты размеров аудиофайлов.

## Природа звука и аналого-цифровое преобразование

### Физическая природа звука

**Звук** — это механические колебания упругой среды (воздуха, воды, твёрдых тел), распространяющиеся в виде волн. Звуковая волна характеризуется:

- **Частотой** (измеряется в герцах, Гц) — определяет высоту тона
- **Амплитудой** — определяет громкость звука
- **Тембром** — определяется спектральным составом (наличием обертонов)

Человеческое ухо воспринимает звуковые колебания в диапазоне приблизительно от 20 Гц до 20 000 Гц (20 кГц). С возрастом верхняя граница обычно снижается до 15-16 кГц.

Аналоговый звуковой сигнал является **непрерывным** — в каждый момент времени он имеет определённое значение амплитуды. Компьютер же может работать только с дискретными (прерывными) данными, поэтому необходимо преобразовать непрерывный сигнал в последовательность чисел.

### Дискретизация и квантование

Процесс преобразования аналогового звукового сигнала в цифровую форму включает два основных этапа:

**1. Дискретизация (sampling)** — это процесс измерения амплитуды звукового сигнала через равные промежутки времени. Каждое измерение называется **отсчётом** или **сэмплом** (sample).

**Частота дискретизации** (sample rate) — количество отсчётов, производимых за одну секунду. Измеряется в герцах (Гц) или килогерцах (кГц). Например, частота дискретизации 44100 Гц означает, что каждую секунду берётся 44100 отсчётов амплитуды сигнала.

Согласно **теореме Котельникова-Найквиста**, для точного восстановления аналогового сигнала из цифрового частота дискретизации должна быть как минимум в два раза больше максимальной частоты в спектре исходного сигнала. Для качественного воспроизведения звука, воспринимаемого человеком (до 20 кГц), необходима частота дискретизации не менее 40 кГц.

**2. Квантование (quantization)** — это процесс преобразования измеренного значения амплитуды в цифровое значение с ограниченной точностью.

**Разрядность квантования** (bit depth) — количество битов, используемых для представления одного отсчёта. Определяет точность измерения амплитуды и динамический диапазон звука.

- **8 бит** (1 байт): 2⁸ = 256 уровней квантования
- **16 бит** (2 байта): 2¹⁶ = 65536 уровней квантования
- **24 бита** (3 байта): 2²⁴ = 16777216 уровней квантования
- **32 бита** (4 байта): 2³² = 4294967296 уровней квантования

Чем выше разрядность, тем точнее представление амплитуды и тем больше динамический диапазон (разница между самым тихим и самым громким звуком).

### Количество каналов

**Монофонический** (моно) звук использует один канал. Все звуки воспроизводятся одинаково из всех динамиков.

**Стереофонический** (стерео) звук использует два независимых канала (левый и правый), что создаёт эффект пространственного звучания.

Также существуют многоканальные форматы: 5.1 (шесть каналов), 7.1 (восемь каналов) и другие, используемые в системах объёмного звучания (surround sound).

## Расчёт объёма несжатого звукового файла

Объём несжатого цифрового звука зависит от трёх основных параметров:

1. **Частота дискретизации** (f) — Гц
2. **Разрядность квантования** (b) — бит
3. **Количество каналов** (c)
4. **Длительность записи** (t) — секунды

Формула для расчёта объёма в **битах**:

```
V (бит) = f × b × c × t
```

Для получения объёма в **байтах** делим на 8:

```
V (байт) = (f × b × c × t) / 8
```

Для получения объёма в **килобайтах** (КБ) делим на 1024:

```
V (КБ) = (f × b × c × t) / (8 × 1024)
```

Для получения объёма в **мегабайтах** (МБ):

```
V (МБ) = (f × b × c × t) / (8 × 1024 × 1024)
```

## Стандартные форматы цифрового звука

### CD Audio (Audio CD)

Стандарт Audio CD, установленный в 1982 году, использует следующие параметры:

- Частота дискретизации: **44100 Гц** (44.1 кГц)
- Разрядность: **16 бит**
- Количество каналов: **2** (стерео)

Этот стандарт стал эталоном качества для потребительского аудио и до сих пор широко используется.

### Профессиональное аудио

В профессиональной звукозаписи используются более высокие параметры:

- Частота: **48 кГц**, **96 кГц** или **192 кГц**
- Разрядность: **24 бита** или **32 бита** (с плавающей точкой)

### Телефонная связь

Для телефонной связи и VoIP обычно используются:

- Частота: **8 кГц**
- Разрядность: **8 бит**
- Каналы: **1** (моно)

Это обеспечивает разборчивость речи при минимальном объёме данных.

## Форматы хранения звуковых данных

### Несжатые форматы

**WAV (Waveform Audio File Format)** — стандартный формат для Windows, разработанный Microsoft и IBM. Хранит несжатые PCM-данные (Pulse Code Modulation). Поддерживает различные параметры дискретизации и квантования.

**AIFF (Audio Interchange File Format)** — аналог WAV для платформы Macintosh, разработанный Apple.

Несжатые форматы обеспечивают максимальное качество, но требуют большого объёма памяти.

### Форматы со сжатием без потерь

**FLAC (Free Lossless Audio Codec)** — формат сжатия аудио без потерь качества. Обеспечивает сжатие в 1.5-2 раза по сравнению с несжатым WAV при полном сохранении качества. Популярен среди аудиофилов.

**ALAC (Apple Lossless Audio Codec)** — аналогичный формат от Apple.

**APE (Monkey's Audio)** — формат с высокой степенью сжатия без потерь, но медленной обработкой.

### Форматы со сжатием с потерями

**MP3 (MPEG-1 Audio Layer 3)** — самый популярный формат сжатого аудио. Использует психоакустическую модель для удаления звуковых компонентов, которые человек плохо воспринимает. Обеспечивает сжатие в 10-12 раз при приемлемом качестве.

Параметр **битрейт** (bitrate) определяет количество бит в секунду для кодирования звука:
- 128 кбит/с — стандартное качество
- 192 кбит/с — хорошее качество
- 256-320 кбит/с — высокое качество

**AAC (Advanced Audio Coding)** — более современный формат, чем MP3. При том же битрейте обеспечивает лучшее качество. Используется в iTunes, YouTube, мобильных устройствах.

**OGG Vorbis** — свободный формат с открытым исходным кодом, альтернатива MP3.

**Opus** — современный универсальный кодек с низкой задержкой, оптимизированный как для речи, так и для музыки. Используется в VoIP, потоковом вещании.

## Примеры расчётов

### Пример 1: Расчёт объёма аудио CD-качества

**Задача**: Рассчитать объём одной минуты стереозаписи в формате Audio CD.

**Дано**:
- Частота дискретизации: f = 44100 Гц
- Разрядность: b = 16 бит
- Количество каналов: c = 2 (стерео)
- Длительность: t = 60 секунд

**Решение**:

```
V (байт) = (f × b × c × t) / 8
V = (44100 × 16 × 2 × 60) / 8
V = (84 672 000) / 8
V = 10 584 000 байт
```

Переведём в мегабайты:

```
V (МБ) = 10 584 000 / (1024 × 1024)
V ≈ 10.09 МБ
```

**Ответ**: Одна минута стереозаписи в формате Audio CD занимает примерно **10 МБ**.

**Проверка**: Audio CD вмещает до 74 минут звука. 74 × 10 ≈ 740 МБ, что соответствует объёму CD-диска (650-700 МБ).

### Пример 2: Сравнение моно и стерео

**Задача**: На сколько стереофонический звук занимает больше места, чем монофонический при одинаковых остальных параметрах?

**Решение**:

Для моно: c₁ = 1
Для стерео: c₂ = 2

Отношение объёмов:

```
V_стерео / V_моно = (f × b × 2 × t) / (f × b × 1 × t) = 2
```

**Ответ**: Стереофонический звук занимает **ровно в 2 раза** больше места, чем монофонический.

### Пример 3: Влияние разрядности на объём

**Задача**: Рассчитать объём 5-секундной монозаписи с частотой 22050 Гц при разрядности 8 бит и 16 бит. Сравнить результаты.

**Дано**:
- f = 22050 Гц
- t = 5 секунд
- c = 1 (моно)
- b₁ = 8 бит, b₂ = 16 бит

**Решение**:

Для 8 бит:
```
V₁ = (22050 × 8 × 1 × 5) / 8 = 110 250 байт ≈ 107.7 КБ
```

Для 16 бит:
```
V₂ = (22050 × 16 × 1 × 5) / 8 = 220 500 байт ≈ 215.3 КБ
```

Отношение:
```
V₂ / V₁ = 220 500 / 110 250 = 2
```

**Ответ**: При увеличении разрядности с 8 до 16 бит объём удваивается. 8-битная запись занимает ~108 КБ, 16-битная — ~215 КБ.

### Пример 4: Расчёт длительности записи по объёму файла

**Задача**: Файл WAV занимает 5 МБ. Параметры: частота 48 кГц, разрядность 16 бит, стерео. Определить длительность записи в секундах.

**Дано**:
- V = 5 МБ = 5 × 1024 × 1024 = 5 242 880 байт
- f = 48 000 Гц
- b = 16 бит
- c = 2

**Решение**:

Из формулы V = (f × b × c × t) / 8 выразим t:

```
t = (V × 8) / (f × b × c)
t = (5 242 880 × 8) / (48 000 × 16 × 2)
t = 41 943 040 / 1 536 000
t ≈ 27.3 секунды
```

**Ответ**: Длительность записи составляет примерно **27.3 секунды**.

### Пример 5: Эффект сжатия MP3

**Задача**: Стереозапись длительностью 3 минуты в формате Audio CD (44.1 кГц, 16 бит) сжата в MP3 с битрейтом 192 кбит/с. Во сколько раз уменьшился размер файла?

**Решение**:

Размер несжатого WAV:
```
V_WAV = (44 100 × 16 × 2 × 180) / 8
V_WAV = 254 016 000 байт ≈ 242.3 МБ
```

Для MP3 расчёт проще — битрейт уже указывает объём в секунду:
```
Битрейт = 192 кбит/с = 192 000 бит/с = 24 000 байт/с
V_MP3 = 24 000 × 180 = 4 320 000 байт ≈ 4.1 МБ
```

Коэффициент сжатия:
```
K = V_WAV / V_MP3 = 254 016 000 / 4 320 000 ≈ 58.8
```

**Ответ**: Файл MP3 занимает примерно **в 59 раз** меньше места, чем несжатый WAV.

## Практическое значение

Понимание принципов представления звуковых данных важно для:

1. **Аудиопроизводства**: выбор параметров записи в зависимости от целей (музыка, речь, архивирование)
2. **Разработки мультимедийных приложений**: оптимизация использования дискового пространства и пропускной способности сети
3. **Стриминговых сервисов**: баланс между качеством звука и требованиями к каналу передачи данных
4. **Мобильных приложений**: экономия памяти устройства и трафика
5. **Архивирования**: выбор между сжатием без потерь и с потерями

Современные тенденции направлены на использование более эффективных кодеков (AAC, Opus), поддержку высокого разрешения (Hi-Res Audio: 96 кГц / 24 бита и выше), а также адаптивное качество в стриминге (регулировка битрейта в зависимости от скорости соединения).

## Ключевые термины и определения

- **Звук** — механические колебания упругой среды, воспринимаемые органами слуха
- **Дискретизация (sampling)** — процесс измерения амплитуды аналогового сигнала через равные промежутки времени
- **Частота дискретизации (sample rate)** — количество отсчётов амплитуды сигнала в секунду, измеряется в Гц
- **Квантование (quantization)** — преобразование измеренного значения амплитуды в цифровое значение с ограниченной точностью
- **Разрядность квантования (bit depth)** — количество битов для представления одного отсчёта
- **Теорема Котельникова-Найквиста** — теорема, утверждающая, что частота дискретизации должна быть минимум в 2 раза больше максимальной частоты сигнала
- **Отсчёт (сэмпл, sample)** — одно измерение амплитуды звукового сигнала
- **Канал** — независимый звуковой поток (моно — 1 канал, стерео — 2 канала)
- **PCM (Pulse Code Modulation)** — импульсно-кодовая модуляция, метод представления аналогового сигнала в цифровой форме
- **Битрейт (bitrate)** — количество бит информации, передаваемое или обрабатываемое в единицу времени
- **Динамический диапазон** — отношение максимальной амплитуды сигнала к минимальной различимой
- **Аудиокодек** — программа или устройство для кодирования и декодирования звуковых данных
- **Сжатие без потерь (lossless)** — метод сжатия, позволяющий полностью восстановить исходные данные
- **Сжатие с потерями (lossy)** — метод сжатия, при котором часть информации отбрасывается для достижения большей степени сжатия

## Контрольные вопросы для самопроверки

1. Объясните процесс преобразования аналогового звука в цифровой. Почему необходимы два этапа: дискретизация и квантование?

2. Согласно теореме Котельникова-Найквиста, какая минимальная частота дискретизации требуется для точного представления сигнала с максимальной частотой 15 кГц? Почему для Audio CD выбрана частота 44.1 кГц, а не 40 кГц?

3. Рассчитайте размер 2-минутной записи телефонного разговора (моно, 8 кГц, 8 бит) и сравните с размером той же длительности в формате Audio CD.

4. Чем отличается формат FLAC от формата MP3? В каких случаях целесообразно использовать каждый из них?

5. Файл MP3 длительностью 4 минуты занимает 7.2 МБ. Определите средний битрейт этого файла в кбит/с.

---

_Эта глава является частью раздела 1 «Понятие информации». Для более глубокого понимания рекомендуется изучить главу 1.2 (представление данных в памяти ЭВМ) и главу 1.12 (способы сжатия информации). В дальнейшем эти знания будут полезны при изучении мультимедийных технологий и сетевых протоколов передачи данных (раздел 8)._
