# Глава 1.8: Представление графических данных в двоичном коде

## Введение

Графическая информация окружает нас повсюду: фотографии, иллюстрации в учебниках, дизайн веб-сайтов, логотипы компаний, медицинские снимки. Понимание того, как компьютер представляет и обрабатывает изображения в двоичном коде, является важной частью курса информатики и необходимо для работы с графическими редакторами, веб-разработки, компьютерного зрения и многих других областей.

Данная тема тесно связана с главой 1.2, где мы рассматривали представление данных в памяти ЭВМ, и главой 1.5, где изучали меры информации и расчёты объёмов данных. Знания из этой главы понадобятся при изучении главы 1.12 (сжатие информации), так как графические данные часто требуют значительного объёма памяти и нуждаются в эффективном сжатии.

В этой главе мы изучим два фундаментально разных подхода к представлению графики — растровый и векторный, рассмотрим цветовые модели, научимся рассчитывать объём графических файлов и познакомимся с распространёнными форматами изображений.

## Два подхода к представлению графики

Существует два принципиально различных способа представления графических данных в компьютере: **растровый** (bitmap) и **векторный** (vector).

### Растровая графика

**Растровая графика** (также называемая **битовой** или **точечной**) представляет изображение как прямоугольную сетку цветных точек — **пикселей** (от англ. *picture element* — элемент изображения).

**Пиксель** — минимальный элемент растрового изображения, обладающий определённым цветом. Каждый пиксель описывается набором битов, определяющих его цвет.

Основные характеристики растрового изображения:

1. **Ширина (W)** — количество пикселей по горизонтали
2. **Высота (H)** — количество пикселей по вертикали
3. **Разрешение** — общее количество пикселей (W × H), например 1920×1080
4. **Глубина цвета** (или **битовая глубина**, color depth) — количество бит на один пиксель

**Преимущества растровой графики:**
- ✅ Фотореалистичность — может точно передавать сложные цветовые переходы
- ✅ Простота обработки — пиксель независим от других
- ✅ Широкая поддержка — все устройства отображения работают с растром

**Недостатки растровой графики:**
- ⚠️ Большой объём данных (особенно для высоких разрешений)
- ⚠️ Потеря качества при масштабировании (пикселизация)
- ⚠️ Зависимость от разрешения

### Векторная графика

**Векторная графика** представляет изображение как набор математических объектов (примитивов): линий, кривых, многоугольников, окружностей. Каждый объект описывается математическими формулами и параметрами.

Например, окружность описывается координатами центра, радиусом, цветом контура и заливки:
```
Окружность: центр = (100, 150), радиус = 50, цвет = RGB(255, 0, 0)
```

**Преимущества векторной графики:**
- ✅ Масштабируемость без потери качества
- ✅ Малый объём данных (описание формулами компактнее растра)
- ✅ Возможность редактирования отдельных объектов
- ✅ Независимость от разрешения

**Недостатки векторной графики:**
- ⚠️ Не подходит для фотореалистичных изображений
- ⚠️ Сложность описания сложных изображений
- ⚠️ Требуется растеризация для отображения на экране

**Области применения:**

| Растровая графика           | Векторная графика              |
| --------------------------- | ------------------------------ |
| Фотографии                  | Логотипы компаний              |
| Сканированные документы     | Диаграммы и схемы              |
| Веб-графика (сложная)       | Иконки интерфейсов             |
| Цифровая живопись           | Чертежи и технические рисунки  |
| Текстуры для 3D             | Карты и географические данные  |
| Медицинские снимки          | Шрифты (TrueType, OpenType)    |

## Цветовые модели

Для описания цвета пикселя в растровой графике используются различные **цветовые модели** — способы математического представления цвета.

### Модель RGB (Red-Green-Blue)

**RGB** — аддитивная (сложение цветов) модель, основанная на смешении трёх основных цветов: красного (Red), зелёного (Green) и синего (Blue). Используется в устройствах, излучающих свет: мониторах, телевизорах, проекторах.

Каждый компонент (R, G, B) задаётся числом:
- При 8 битах на канал: 0–255 (256 градаций)
- При 16 битах на канал: 0–65535

**Примеры цветов в RGB (8 бит на канал):**
- Чёрный: RGB(0, 0, 0)
- Белый: RGB(255, 255, 255)
- Красный: RGB(255, 0, 0)
- Жёлтый: RGB(255, 255, 0)
- Серый (50%): RGB(127, 127, 127)

**Глубина цвета в RGB:**

| Глубина  | Бит на пиксель | Описание                                                       |
| -------- | -------------- | -------------------------------------------------------------- |
| 8 бит    | 8              | 256 цветов (палитра, по 3-3-2 бита на R-G-B)                  |
| 16 бит   | 16             | High Color (по 5-6-5 бит на R-G-B) = 65 536 цветов            |
| 24 бит   | 24             | True Color (по 8 бит на R-G-B) = 16 777 216 цветов            |
| 32 бит   | 32             | True Color + Alpha (8 бит на прозрачность)                    |
| 48 бит   | 48             | Deep Color (по 16 бит на R-G-B) для профессиональной обработки |

### Модель CMYK (Cyan-Magenta-Yellow-blacK)

**CMYK** — субтрактивная (вычитание цветов) модель, основанная на смешении четырёх красок: голубой (Cyan), пурпурной (Magenta), жёлтой (Yellow) и чёрной (blacK). Используется в полиграфии для печати.

Каждый компонент задаётся в процентах от 0% (цвет отсутствует) до 100% (максимальная интенсивность).

**Почему используется чёрный?** Теоретически чёрный получается смешением C+M+Y, но на практике получается тёмно-коричневый, а чёрная краска даёт более насыщенный чёрный цвет и экономит цветные краски.

### Модель HSV/HSB (Hue-Saturation-Value/Brightness)

**HSV** — модель, описывающая цвет через три компонента:
- **Hue (оттенок)** — цвет на цветовом круге (0°–360°)
- **Saturation (насыщенность)** — интенсивность цвета (0%–100%)
- **Value (яркость)** — светлота (0%–100%)

Эта модель более интуитивна для человека, чем RGB, и часто используется в графических редакторах для выбора цвета.

### Модель Grayscale (оттенки серого)

**Grayscale** — монохромная модель, где каждый пиксель имеет только яркость (градацию серого) без цветовой информации.

- 1 бит: чёрно-белое (2 значения)
- 8 бит: 256 оттенков серого
- 16 бит: 65 536 оттенков (медицинская визуализация)

## Расчёт объёма растрового изображения

Объём несжатого растрового изображения рассчитывается по формуле:

**V = (W × H × D) / 8**

где:
- **V** — объём в байтах
- **W** — ширина в пикселях
- **H** — высота в пикселях
- **D** — глубина цвета в битах на пиксель
- **/8** — перевод из битов в байты

Для изображения с альфа-каналом (прозрачностью) добавляются дополнительные биты на пиксель.

## Форматы графических файлов

### Растровые форматы

#### BMP (Bitmap)

**BMP** — базовый формат Windows, обычно хранит несжатые данные.

**Характеристики:**
- Простая структура
- Большой размер файла (нет сжатия или слабое RLE-сжатие)
- Поддержка глубины 1, 4, 8, 16, 24, 32 бита
- Применение: временные файлы, обмен между программами

#### PNG (Portable Network Graphics)

**PNG** — современный формат со сжатием без потерь, разработанный как альтернатива GIF.

**Характеристики:**
- Сжатие без потерь (алгоритм Deflate)
- Поддержка прозрачности (альфа-канал 8 или 16 бит)
- Глубина цвета до 48 бит (по 16 бит на канал RGB)
- Поддержка индексированных цветов (палитра)
- Применение: веб-графика с прозрачностью, иконки, скриншоты

**Типовые коэффициенты сжатия:** 1.5–3× (зависит от содержимого)

#### JPEG (Joint Photographic Experts Group)

**JPEG** — формат со сжатием с потерями, оптимизированный для фотографий.

**Характеристики:**
- Сжатие с потерями (алгоритм DCT)
- Регулируемое качество (обычно 0–100%)
- Нет поддержки прозрачности
- Глубина цвета 24 бита (8 бит на канал)
- Применение: фотографии, веб-графика с плавными переходами

**Типовые коэффициенты сжатия:** 10–20× при хорошем качестве, до 100× при низком

**Недостатки:** артефакты сжатия (блоки 8×8), не подходит для текста и графики с чёткими линиями.

#### GIF (Graphics Interchange Format)

**GIF** — старый формат с ограниченной палитрой, поддержкой анимации и прозрачности.

**Характеристики:**
- Палитра 256 цветов (8 бит)
- Сжатие без потерь (алгоритм LZW)
- Поддержка прозрачности (1 бит — есть/нет)
- Поддержка анимации (последовательность кадров)
- Применение: простая анимация, иконки (устаревает)

**Ограничения:** только 256 цветов, не подходит для фотографий.

#### WebP

**WebP** — современный формат от Google, поддерживающий сжатие с потерями и без, прозрачность и анимацию.

**Характеристики:**
- Сжатие с потерями и без потерь
- Поддержка альфа-канала
- Лучшее сжатие, чем JPEG и PNG (на 25–35%)
- Применение: современная веб-графика

#### TIFF (Tagged Image File Format)

**TIFF** — профессиональный формат для хранения изображений без потерь.

**Характеристики:**
- Гибкая структура (теги)
- Поддержка различных сжатий (LZW, ZIP, нет сжатия)
- Глубина цвета до 64 бит
- Многостраничность (TIFF может хранить несколько изображений)
- Применение: полиграфия, архивирование, медицина, научная визуализация

### Векторные форматы

#### SVG (Scalable Vector Graphics)

**SVG** — открытый XML-формат для веб-векторной графики.

**Характеристики:**
- Текстовый формат (можно редактировать в текстовом редакторе)
- Поддержка интерактивности (JavaScript, CSS)
- Масштабируемость без потери качества
- Применение: веб-иконки, логотипы, диаграммы

#### AI (Adobe Illustrator)

**AI** — проприетарный формат Adobe Illustrator.

**Применение:** профессиональный дизайн, логотипы, иллюстрации.

#### EPS (Encapsulated PostScript)

**EPS** — универсальный векторный формат на основе языка PostScript.

**Применение:** обмен между графическими программами, полиграфия.

#### PDF (Portable Document Format)

**PDF** — может содержать как векторные, так и растровые данные.

**Применение:** документы, печать, архивирование.

## Практические примеры

### Пример 1: Расчёт объёма несжатого изображения

**Задача:** Рассчитайте объём несжатого изображения разрешением 1920×1080 пикселей с глубиной цвета 24 бита (True Color RGB).

**Решение:**

Используем формулу:
```
V = (W × H × D) / 8
V = (1920 × 1080 × 24) / 8
V = (2 073 600 × 24) / 8
V = 49 766 400 / 8
V = 6 220 800 байт
```

Переведём в мегабайты:
```
V = 6 220 800 / (1024 × 1024)
V ≈ 5,93 МБ
```

**Ответ:** Несжатое изображение Full HD (1920×1080) в True Color занимает примерно **5,93 МБ**.

### Пример 2: Изображение с альфа-каналом

**Задача:** Рассчитайте объём изображения разрешением 800×600 пикселей с глубиной цвета 32 бита (24 бита RGB + 8 бит альфа-канал).

**Решение:**

```
V = (W × H × D) / 8
V = (800 × 600 × 32) / 8
V = (480 000 × 32) / 8
V = 15 360 000 / 8
V = 1 920 000 байт
```

Переведём в мегабайты:
```
V = 1 920 000 / (1024 × 1024)
V ≈ 1,83 МБ
```

**Ответ:** Изображение 800×600 с прозрачностью (32 бита) занимает **1,83 МБ**.

### Пример 3: Сравнение глубины цвета

**Задача:** Сравните объёмы изображения 1024×768 при разной глубине цвета:
- a) 8 бит (256 цветов)
- b) 16 бит (High Color)
- c) 24 бит (True Color)

**Решение:**

a) Глубина 8 бит:
```
V = (1024 × 768 × 8) / 8 = 786 432 байт ≈ 768 КБ
```

b) Глубина 16 бит:
```
V = (1024 × 768 × 16) / 8 = 1 572 864 байт ≈ 1,5 МБ
```

c) Глубина 24 бит:
```
V = (1024 × 768 × 24) / 8 = 2 359 296 байт ≈ 2,25 МБ
```

**Ответ:**
- 8 бит: 768 КБ (в 3 раза меньше True Color)
- 16 бит: 1,5 МБ (в 1,5 раза меньше True Color)
- 24 бит: 2,25 МБ (эталон)

**Вывод:** Уменьшение глубины цвета уменьшает объём пропорционально, но снижает качество цветопередачи.

### Пример 4: Эффективность сжатия JPEG

**Задача:** Фотография разрешением 4000×3000 пикселей в формате JPEG при качестве 85% занимает 2,1 МБ. Рассчитайте:
- a) Объём несжатого изображения (24 бита)
- b) Коэффициент сжатия

**Решение:**

a) Объём несжатого:
```
V_несж = (4000 × 3000 × 24) / 8 = 36 000 000 байт
V_несж = 36 000 000 / (1024 × 1024) ≈ 34,33 МБ
```

b) Коэффициент сжатия:
```
K = V_несж / V_сж = 34,33 / 2,1 ≈ 16,35
```

**Ответ:** Несжатое изображение занимает 34,33 МБ, JPEG-сжатие даёт коэффициент **16,35×**, то есть файл в 16 раз меньше несжатого.

### Пример 5: PNG против BMP

**Задача:** Скриншот рабочего стола 1920×1080 сохранён в формате BMP и занимает 6,2 МБ. После конвертации в PNG размер стал 1,8 МБ. Рассчитайте коэффициент сжатия PNG.

**Решение:**

```
K = V_BMP / V_PNG = 6,2 / 1,8 ≈ 3,44
```

**Ответ:** PNG сжал изображение примерно в **3,44 раза** без потери качества.

**Объяснение:** Скриншоты обычно содержат много повторяющихся областей (фон, панели интерфейса), что хорошо сжимается алгоритмом Deflate в PNG.

### Пример 6: Выбор формата для разных задач

**Задача:** Выберите оптимальный формат для следующих изображений:
- a) Логотип компании с прозрачностью для сайта
- b) Фотография пейзажа для блога
- c) Анимированный баннер для старого сайта
- d) Чертёж для печати в типографии

**Решение:**

a) **Логотип с прозрачностью для сайта:**
   - Лучший вариант: **SVG** (векторный, масштабируемый, малый размер)
   - Альтернатива: **PNG** (если логотип содержит растровые эффекты)
   - Обоснование: SVG идеален для логотипов, так как обеспечивает идеальное качество на любых экранах (Retina, 4K) при минимальном размере файла.

b) **Фотография пейзажа для блога:**
   - Лучший вариант: **JPEG** (качество 80–85%)
   - Современная альтернатива: **WebP** (если браузеры поддерживают)
   - Обоснование: JPEG оптимален для фотографий с плавными переходами, даёт хорошее сжатие при приемлемом качестве.

c) **Анимированный баннер:**
   - Старый стандарт: **GIF** (для совместимости со старыми браузерами)
   - Современный вариант: **WebP** (анимация) или **видео-формат** (MP4)
   - Обоснование: GIF устарел, но поддерживается везде. WebP даёт лучшее качество и меньший размер.

d) **Чертёж для печати:**
   - Лучший вариант: **PDF** (векторный режим) или **EPS**
   - Альтернатива: **TIFF** (если требуется растр высокого разрешения)
   - Обоснование: Векторные форматы обеспечивают идеальное качество печати на любом оборудовании, а TIFF — профессиональный стандарт полиграфии для растровых изображений.

### Пример 7: Расчёт объёма видеоданных

**Задача:** Несжатое видео разрешением 1280×720 пикселей, 30 кадров в секунду, глубина цвета 24 бита, длительность 1 минута. Рассчитайте объём несжатого видео.

**Решение:**

Шаг 1: Объём одного кадра:
```
V_кадра = (1280 × 720 × 24) / 8 = 2 764 800 байт
```

Шаг 2: Количество кадров за 1 минуту:
```
N = 30 кадров/сек × 60 сек = 1800 кадров
```

Шаг 3: Общий объём:
```
V = V_кадра × N = 2 764 800 × 1800 = 4 976 640 000 байт
```

Переведём в гигабайты:
```
V = 4 976 640 000 / (1024 × 1024 × 1024) ≈ 4,63 ГБ
```

**Ответ:** Одна минута несжатого HD-видео (720p, 30 fps) занимает **4,63 ГБ**.

**Практическое следствие:** Видео необходимо сжимать. Современные кодеки (H.264, H.265/HEVC) сжимают видео в 50–200 раз, уменьшая файл до 50–100 МБ на минуту при хорошем качестве.

## Практическое значение и применение

### В веб-разработке

Выбор правильного формата изображений критически важен для скорости загрузки сайта:
- Логотипы, иконки: SVG (масштабируются, малый размер)
- Фотографии: JPEG или WebP с оптимизацией
- Изображения с прозрачностью: PNG или WebP
- Адаптивные изображения: несколько версий разного разрешения для разных устройств

### В графическом дизайне

- Работа в векторных форматах (AI, SVG) для логотипов и иллюстраций
- Растровые форматы высокого разрешения (TIFF, PSD) для обработки фотографий
- Экспорт в соответствующие форматы для разных целей (печать, веб, социальные сети)

### В полиграфии

- CMYK цветовая модель обязательна для печати
- Высокое разрешение: обычно 300 dpi (dots per inch) для качественной печати
- Форматы: TIFF, PDF, EPS

### В медицине

- DICOM — специализированный формат для медицинских изображений (рентген, КТ, МРТ)
- 16-битная глубина цвета (grayscale) для точной диагностики
- Сжатие без потерь обязательно

### В компьютерном зрении и машинном обучении

- Обработка растровых изображений для распознавания объектов
- Обучение нейронных сетей на больших наборах изображений
- Предобработка: изменение разрешения, нормализация цветов

## Связь с другими темами

Изученная в этой главе тема тесно связана с:

- **Глава 1.1**: Арифметика в двоичной системе — основа хранения цветовых значений RGB в битах
- **Глава 1.2**: Представление данных в памяти ЭВМ — организация хранения пикселей в памяти, адресация
- **Глава 1.5**: Меры информации — расчёты объёмов графических файлов
- **Глава 1.12**: Способы сжатия информации — алгоритмы сжатия графики (Deflate для PNG, DCT для JPEG, LZW для GIF)
- **Раздел 8**: Локальные и глобальные сети — передача графических данных по сети, оптимизация для веб

## Ключевые термины и определения

**Растровая графика** — способ представления изображения в виде прямоугольной сетки пикселей, каждый из которых имеет определённый цвет.

**Векторная графика** — способ представления изображения в виде математических объектов (примитивов): линий, кривых, многоугольников.

**Пиксель** — минимальный элемент растрового изображения, обладающий определённым цветом.

**Разрешение** — количество пикселей в изображении, обычно записывается как ширина × высота (например, 1920×1080).

**Глубина цвета** (битовая глубина) — количество бит, используемых для хранения цвета одного пикселя.

**RGB** — аддитивная цветовая модель, основанная на смешении красного (Red), зелёного (Green) и синего (Blue) цветов.

**CMYK** — субтрактивная цветовая модель, используемая в полиграфии, основанная на смешении голубого (Cyan), пурпурного (Magenta), жёлтого (Yellow) и чёрного (blacK) цветов.

**Альфа-канал** — дополнительный канал в изображении, определяющий уровень прозрачности каждого пикселя.

**True Color** — режим цветопередачи с глубиной 24 бита (по 8 бит на каждый из трёх каналов RGB), обеспечивающий 16 777 216 различных цветов.

**Сжатие без потерь** (lossless) — метод сжатия данных, при котором исходное изображение может быть точно восстановлено из сжатого.

**Сжатие с потерями** (lossy) — метод сжатия данных, при котором часть информации теряется безвозвратно для достижения большего коэффициента сжатия.

**Растеризация** — процесс преобразования векторного изображения в растровое.

## Контрольные вопросы для самопроверки

1. **В чём принципиальная разница между растровой и векторной графикой?** Приведите по два примера применения каждого типа.

2. **Рассчитайте объём несжатого изображения:** Разрешение 2560×1440 пикселей, глубина цвета 32 бита (RGB + альфа). Выразите ответ в мегабайтах.

3. **Объясните цветовую модель RGB:** Как получается белый цвет? Как получается жёлтый цвет? Почему эта модель называется аддитивной?

4. **В чём разница между форматами PNG и JPEG?** Когда следует использовать каждый из них? Какой из них использует сжатие с потерями?

5. **Почему векторные изображения сохраняют качество при масштабировании, а растровые нет?** Что происходит при увеличении растрового изображения?

6. **Что такое альфа-канал?** Сколько дополнительных бит на пиксель он добавляет в типичном случае? Приведите пример использования прозрачности в графике.

7. **Задача на расчёт:** Фотография 4096×2160 пикселей (4K) сохранена в JPEG и занимает 3 МБ. Рассчитайте коэффициент сжатия по сравнению с несжатым форматом (24 бита).

## Резюме главы

В этой главе мы изучили:

1. ✅ **Два подхода к представлению графики:** растровый (сетка пикселей) и векторный (математические объекты)
2. ✅ **Цветовые модели:** RGB (для экранов), CMYK (для печати), HSV (для интуитивного выбора цвета), Grayscale (оттенки серого)
3. ✅ **Глубину цвета:** от 1 бита (чёрно-белое) до 48 бит (Deep Color), понятие True Color (24 бита)
4. ✅ **Расчёт объёма изображения:** формула V = (W × H × D) / 8
5. ✅ **Форматы графических файлов:** 
   - Растровые: BMP, PNG, JPEG, GIF, WebP, TIFF
   - Векторные: SVG, AI, EPS, PDF
6. ✅ **Методы сжатия:** сжатие без потерь (PNG, GIF) и с потерями (JPEG)
7. ✅ **Практическое применение:** выбор форматов для веб-разработки, полиграфии, дизайна

Теперь вы должны уметь:

- Различать растровую и векторную графику, понимать области их применения
- Рассчитывать объём растрового изображения по его параметрам
- Объяснять принципы работы цветовых моделей RGB и CMYK
- Выбирать оптимальный формат изображения для конкретной задачи
- Оценивать эффективность сжатия графических данных

Эти знания понадобятся в главе 1.12 при изучении алгоритмов сжатия информации, а также в разделе 8 при рассмотрении передачи мультимедийных данных по сетям.

---

_Конец главы_

---

## Метаинформация (не включается в финальный учебник)

**Объём**: ~16 500 символов  
**Время на изучение**: 40-50 минут  
**Сложность**: Средняя  
**Предварительные требования**: Главы 1.1, 1.2, 1.5  
**Статус**: ✅ Готова (14 января 2026)
