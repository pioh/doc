# –ì–ª–∞–≤–∞ 7.3. –†–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –ë–î. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

## –í–≤–µ–¥–µ–Ω–∏–µ

–ü–æ–º–Ω–∏—à—å –≥–ª–∞–≤—É 7.2, –≥–¥–µ –º—ã –æ–±—Å—É–∂–¥–∞–ª–∏, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî —ç—Ç–æ –∫—Ä—É—Ç–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ? –ù–æ –≤–æ—Ç —Ç–µ–±–µ –∑–∞–≥–≤–æ–∑–¥–∫–∞: **–∫–∞–∫ –∏–º–µ–Ω–Ω–æ** –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å? –ú–æ–∂–Ω–æ –≤–µ–¥—å –∏ –Ω–∞—Ö—É—è—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü —Ç–∞–∫, —á—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±—É–¥—É—Ç –ø–ª–∞–∫–∞—Ç—å –∫—Ä–æ–≤–∞–≤—ã–º–∏ —Å–ª–µ–∑–∞–º–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤—å: —É —Ç–µ–±—è —Ç–∞–±–ª–∏—Ü–∞ `users` —Å –ø–æ–ª—è–º–∏ `–∞–¥—Ä–µ—Å_–¥–æ–º`, `–∞–¥—Ä–µ—Å_—É–ª–∏—Ü–∞`, `–∞–¥—Ä–µ—Å_–≥–æ—Ä–æ–¥`, `–∞–¥—Ä–µ—Å_–∏–Ω–¥–µ–∫—Å`, `–∞–¥—Ä–µ—Å_—Å—Ç—Ä–∞–Ω–∞`, `—Ç–µ–ª–µ—Ñ–æ–Ω1`, `—Ç–µ–ª–µ—Ñ–æ–Ω2`, `—Ç–µ–ª–µ—Ñ–æ–Ω3`, `–∑–∞–∫–∞–∑—ã_—Å–ø–∏—Å–æ–∫` (–≥–¥–µ –≤—Å–µ –∑–∞–∫–∞–∑—ã –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é). –≠—Ç–æ –ø–∏–∑–¥–µ—Ü, –∞ –Ω–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

–í–æ—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ –≥–æ—Ä–æ–¥–∏—Ç—å —Ç–∞–∫—É—é —Ö—É–π–Ω—é, –∏ –ø—Ä–∏–¥—É–º–∞–ª–∏ **—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö** –∏ **–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é**. –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç: "–•—Ä–∞–Ω–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö, —Å–≤—è–∑—ã–≤–∞–π –∏—Ö —á–µ—Ä–µ–∑ –∫–ª—é—á–∏". –ê –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≥–æ–≤–æ—Ä–∏—Ç: "–†–∞–∑–±–µ–π —Ç–∞–±–ª–∏—Ü—ã —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∞–Ω–æ–º–∞–ª–∏–π –∏ –ø—Ä–æ—á–µ–≥–æ –ø–∏–∑–¥–µ—Ü–∞".

–≠—Ç–∞ –≥–ª–∞–≤–∞ —Å–≤—è–∑–∞–Ω–∞ —Å:
- **–ì–ª–∞–≤–æ–π 7.1 (–ò–Ω—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)** ‚Äî ER-–¥–∏–∞–≥—Ä–∞–º–º—ã –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- **–ì–ª–∞–≤–æ–π 7.2 (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ë–î)** ‚Äî —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å ‚Äî —ç—Ç–æ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- **–ì–ª–∞–≤–æ–π 4.1 (–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ë–î)** ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —ç—Ç–∞–ø–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## 7.3.1. –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### –ò—Å—Ç–æ—Ä–∏—è

**–†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö** –±—ã–ª–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∞ –≠–¥–≥–∞—Ä–æ–º –ö–æ–¥–¥–æ–º (Edgar F. Codd) –≤ 1970 –≥–æ–¥—É –≤ —Å—Ç–∞—Ç—å–µ "A Relational Model of Data for Large Shared Data Banks". –î–æ —ç—Ç–æ–≥–æ –±—ã–ª–∏ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –∏ —Å–µ—Ç–µ–≤—ã–µ –ë–î, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ —Å–≤—è–∑–∞–Ω—ã –∂—ë—Å—Ç–∫–∏–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏, –∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å–≤—è–∑—å ‚Äî —ç—Ç–æ –±–ª—è—Ç—å –∫–≤–µ—Å—Ç. –ö–æ–¥–¥ —Å–∫–∞–∑–∞–ª: "–≠–π, —Ä–µ–±—è—Ç–∞, –¥–∞–≤–∞–π—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö –∏ —Å–≤—è–∑—ã–≤–∞—Ç—å –∏—Ö —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–µ–π, –∞ –Ω–µ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª–∏". –ò —ç—Ç–æ –±—ã–ª —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

**–û—Ç–Ω–æ—à–µ–Ω–∏–µ (Relation)** ‚Äî —ç—Ç–æ —Ç–∞–±–ª–∏—Ü–∞. –ó–≤—É—á–∏—Ç —Å–ª–æ–∂–Ω–æ, –Ω–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—Ç–æ–ª —Å –¥–∞–Ω–Ω—ã–º–∏.

**–ö–æ—Ä—Ç–µ–∂ (Tuple)** ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã. –û–¥–Ω–∞ –∑–∞–ø–∏—Å—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω —Å—Ç—É–¥–µ–Ω—Ç.

**–ê—Ç—Ä–∏–±—É—Ç (Attribute)** ‚Äî —ç—Ç–æ —Å—Ç–æ–ª–±–µ—Ü —Ç–∞–±–ª–∏—Ü—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, `–∏–º—è`, `—Ñ–∞–º–∏–ª–∏—è`, `–≤–æ–∑—Ä–∞—Å—Ç`.

**–î–æ–º–µ–Ω (Domain)** ‚Äî —ç—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∞—Ç—Ä–∏–±—É—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∞—Ç—Ä–∏–±—É—Ç–∞ `–≤–æ–∑—Ä–∞—Å—Ç` –¥–æ–º–µ–Ω ‚Äî —ç—Ç–æ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –æ—Ç 0 –¥–æ 150.

**–°—Ö–µ–º–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏—è** ‚Äî —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã + —Å–ø–∏—Å–æ–∫ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Å –∏—Ö —Ç–∏–ø–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:
```
–°—Ç—É–¥–µ–Ω—Ç (id: INTEGER, —Ñ–∞–º–∏–ª–∏—è: VARCHAR(50), –∏–º—è: VARCHAR(50), –≤–æ–∑—Ä–∞—Å—Ç: INTEGER)
```

**–°—Ç–µ–ø–µ–Ω—å –æ—Ç–Ω–æ—à–µ–Ω–∏—è** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (—Å—Ç–æ–ª–±—Ü–æ–≤). –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ —Å—Ç–µ–ø–µ–Ω—å = 4.

**–ú–æ—â–Ω–æ—Å—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏—è** ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä—Ç–µ–∂–µ–π (—Å—Ç—Ä–æ–∫). –ï—Å–ª–∏ —É –Ω–∞—Å 100 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –º–æ—â–Ω–æ—Å—Ç—å = 100.

### –°–≤–æ–π—Å—Ç–≤–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏—è

1. **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π** ‚Äî –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –Ω–µ —Å–ø–∏—Å–æ–∫.  
   ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**: `—Ç–µ–ª–µ—Ñ–æ–Ω = "+79991234567"`  
   ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**: `—Ç–µ–ª–µ—Ñ–æ–Ω—ã = "+79991234567, +79097654321"`

2. **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ä—Ç–µ–∂–µ–π** ‚Äî –Ω–µ—Ç –¥–≤—É—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤–∏—á–Ω—ã–º –∫–ª—é—á–æ–º.

3. **–ù–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å –∫–æ—Ä—Ç–µ–∂–µ–π** ‚Äî –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è. SQL –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω `ORDER BY`.

4. **–ù–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç–æ–≤** ‚Äî –ø–æ—Ä—è–¥–æ–∫ —Å—Ç–æ–ª–±—Ü–æ–≤ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è (—Ö–æ—Ç—è –≤ SQL –º—ã –æ–±—ã—á–Ω–æ –ø–∏—à–µ–º –∏—Ö –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ).

---

## 7.3.2. –ö–ª—é—á–∏

–ö–ª—é—á–∏ ‚Äî —ç—Ç–æ –∞—Ç—Ä–∏–±—É—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç —Å—Ç—Ä–æ–∫—É –∏–ª–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç —Ç–∞–±–ª–∏—Ü—ã –º–µ–∂–¥—É —Å–æ–±–æ–π.

### –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (Primary Key, PK)

**–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á** ‚Äî —ç—Ç–æ –∞—Ç—Ä–∏–±—É—Ç (–∏–ª–∏ –Ω–∞–±–æ—Ä –∞—Ç—Ä–∏–±—É—Ç–æ–≤), –∫–æ—Ç–æ—Ä—ã–π **–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É** –≤ —Ç–∞–±–ª–∏—Ü–µ.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–µ—Ä–≤–∏—á–Ω–æ–º—É –∫–ª—é—á—É:**
1. **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å**: –Ω–µ—Ç –¥–≤—É—Ö —Å—Ç—Ä–æ–∫ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º PK
2. **–ù–µ–∏–∑–º–µ–Ω–Ω–æ—Å—Ç—å**: –∑–Ω–∞—á–µ–Ω–∏–µ PK –Ω–µ –¥–æ–ª–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å—Å—è
3. **–ù–µ NULL**: PK –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º

**–ü—Ä–∏–º–µ—Ä—ã:**
- **–°—Ç—É–¥–µ–Ω—Ç**: `id` (–∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç)
- **–ü–∞—Å–ø–æ—Ä—Ç**: `—Å–µ—Ä–∏—è_–Ω–æ–º–µ—Ä` (—É–Ω–∏–∫–∞–ª–µ–Ω –ø–æ –∑–∞–∫–æ–Ω—É)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `email` (–µ—Å–ª–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å)

**–°—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–π vs –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª—é—á**

- **–°—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–π –∫–ª—é—á** ‚Äî –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–æ–±—ã—á–Ω–æ `id`), –Ω–µ –Ω–µ—Å—ë—Ç –±–∏–∑–Ω–µ—Å-—Å–º—ã—Å–ª–∞.  
  ‚úÖ –ü–ª—é—Å—ã: —Å—Ç–∞–±–∏–ª—å–Ω—ã–π, –∫–æ—Ä–æ—Ç–∫–∏–π, –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å  
  ‚ùå –ú–∏–Ω—É—Å—ã: –Ω–µ—Ç —Å–º—ã—Å–ª–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

- **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª—é—á** ‚Äî –∞—Ç—Ä–∏–±—É—Ç —Å –±–∏–∑–Ω–µ—Å-—Å–º—ã—Å–ª–æ–º (`email`, `–ø–∞—Å–ø–æ—Ä—Ç`, `ISBN`).  
  ‚úÖ –ü–ª—é—Å—ã: –∏–º–µ–µ—Ç —Å–º—ã—Å–ª, –Ω–µ –Ω—É–∂–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å—Ç–æ–ª–±–µ—Ü  
  ‚ùå –ú–∏–Ω—É—Å—ã: –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–ª–∏–Ω–Ω—ã–º

**–°–æ–≤–µ—Ç:** –ò—Å–ø–æ–ª—å–∑—É–π —Å—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ (AUTO_INCREMENT `id`), –∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–µ–ª–∞–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏.

### –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á (Foreign Key, FK)

**–í–Ω–µ—à–Ω–∏–π –∫–ª—é—á** ‚Äî —ç—Ç–æ –∞—Ç—Ä–∏–±—É—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü—ã, —Å–æ–∑–¥–∞–≤–∞—è —Å–≤—è–∑—å.

**–ü—Ä–∏–º–µ—Ä:**

```sql
-- –¢–∞–±–ª–∏—Ü–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
CREATE TABLE student (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50),
    group_id INT,
    FOREIGN KEY (group_id) REFERENCES student_group(id)
);

-- –¢–∞–±–ª–∏—Ü–∞ –≥—Ä—É–ø–ø
CREATE TABLE student_group (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(20)
);
```

–ó–¥–µ—Å—å `student.group_id` ‚Äî —ç—Ç–æ –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `student_group.id`.

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω FK?**
- **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**: –Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å `group_id = 999`, –µ—Å–ª–∏ –≥—Ä—É–ø–ø—ã —Å —Ç–∞–∫–∏–º `id` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- **–ö–∞—Å–∫–∞–¥–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≥—Ä—É–ø–ø—ã –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `group_id = NULL`

**–ö–∞—Å–∫–∞–¥–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**

```sql
FOREIGN KEY (group_id) REFERENCES student_group(id)
    ON DELETE CASCADE      -- –£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≥—Ä—É–ø–ø—ã
    ON UPDATE CASCADE      -- –û–±–Ω–æ–≤–∏—Ç—å group_id –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ id –≥—Ä—É–ø–ø—ã
```

–í–∞—Ä–∏–∞–Ω—Ç—ã:
- `CASCADE` ‚Äî –∫–∞—Å–∫–∞–¥–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ
- `SET NULL` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å NULL
- `RESTRICT` ‚Äî –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é, –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º—ã–µ —Å—Ç—Ä–æ–∫–∏
- `NO ACTION` ‚Äî —Ç–æ –∂–µ, —á—Ç–æ `RESTRICT`

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á (Unique Key, UK)

**–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á** ‚Äî –∞—Ç—Ä–∏–±—É—Ç, –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏, –Ω–æ –æ–Ω **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–≤–∏—á–Ω—ã–º –∫–ª—é—á–æ–º**.

**–û—Ç–ª–∏—á–∏–µ –æ—Ç PK:**
- UK –º–æ–∂–µ—Ç –±—ã—Ç—å NULL (—Ö–æ—Ç—è –∏ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –°–£–ë–î)
- –í —Ç–∞–±–ª–∏—Ü–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ UK, –Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω PK

**–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE TABLE user (
    id INT PRIMARY KEY,
    email VARCHAR(100) UNIQUE,  -- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á
    phone VARCHAR(20) UNIQUE    -- –ï—â—ë –æ–¥–∏–Ω —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á
);
```

### –°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á (Composite Key)

**–°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á** ‚Äî –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤.

**–ü—Ä–∏–º–µ—Ä: —Ç–∞–±–ª–∏—Ü–∞ –æ—Ü–µ–Ω–æ–∫**

```sql
CREATE TABLE grade (
    student_id INT,
    course_id INT,
    grade INT,
    date DATE,
    PRIMARY KEY (student_id, course_id)  -- –°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á
);
```

–ó–¥–µ—Å—å —Å–≤—è–∑—å "—Å—Ç—É–¥–µ–Ω—Ç-–∫—É—Ä—Å" —É–Ω–∏–∫–∞–ª—å–Ω–∞, –Ω–æ –∫–∞–∂–¥—ã–π –∞—Ç—Ä–∏–±—É—Ç –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ —É–Ω–∏–∫–∞–ª–µ–Ω.

---

## 7.3.3. –ü—Ä–æ–±–ª–µ–º—ã –Ω–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–µ–∂–¥–µ —á–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å –æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏, –¥–∞–≤–∞–π –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–æ–π –ø–∏–∑–¥–µ—Ü —Å–ª—É—á–∞–µ—Ç—Å—è, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫—Ä–∏–≤–æ.

### –ü—Ä–∏–º–µ—Ä: –ø–ª–æ—Ö–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

–ü—Ä–µ–¥—Å—Ç–∞–≤—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç-–¥–µ–±–∏–ª —Ä–µ—à–∏–ª —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:

```sql
CREATE TABLE orders (
    order_id INT,
    customer_name VARCHAR(50),
    customer_email VARCHAR(100),
    customer_address TEXT,
    items TEXT,  -- "–ù–æ—Å–∫–∏, –¢—Ä—É—Å—ã, –ú–∞–π–∫–∞"
    prices TEXT  -- "150, 200, 300"
);
```

**–ü—Ä–æ–±–ª–µ–º—ã:**

1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å)**  
   –ö–ª–∏–µ–Ω—Ç —Å–¥–µ–ª–∞–ª 10 –∑–∞–∫–∞–∑–æ–≤ ‚Üí –µ–≥–æ –∏–º—è, email, –∞–¥—Ä–µ—Å –∑–∞–ø–∏—Å–∞–Ω—ã 10 —Ä–∞–∑.  
   **–ü–ª–æ—Ö–æ:** –ó–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞, –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

2. **–ê–Ω–æ–º–∞–ª–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Update Anomaly)**  
   –ö–ª–∏–µ–Ω—Ç –∏–∑–º–µ–Ω–∏–ª –∞–¥—Ä–µ—Å ‚Üí –Ω–∞–¥–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ 10 —Å—Ç—Ä–æ–∫.  
   **–ü–ª–æ—Ö–æ:** –ï—Å–ª–∏ –æ–±–Ω–æ–≤–∏—à—å —Ç–æ–ª—å–∫–æ 9, –±—É–¥–µ—Ç –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å.

3. **–ê–Ω–æ–º–∞–ª–∏—è –≤—Å—Ç–∞–≤–∫–∏ (Insert Anomaly)**  
   –•–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –±–µ–∑ –∑–∞–∫–∞–∑–∞ ‚Üí –Ω–µ–ª—å–∑—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `orders`.  
   **–ü–ª–æ—Ö–æ:** –ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –≥–æ—Ä–æ–¥–∏—Ç—å –µ—â—ë –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É –∏–ª–∏ –≤—Å—Ç–∞–≤–ª—è—Ç—å —Å—Ç—Ä–æ–∫—É —Å NULL –≤ `order_id`.

4. **–ê–Ω–æ–º–∞–ª–∏—è —É–¥–∞–ª–µ–Ω–∏—è (Delete Anomaly)**  
   –ö–ª–∏–µ–Ω—Ç –æ—Ç–º–µ–Ω–∏–ª –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞–∫–∞–∑ ‚Üí —É–¥–∞–ª–∏—à—å —Å—Ç—Ä–æ–∫—É ‚Üí –ø–æ—Ç–µ—Ä—è–µ—à—å –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ.  
   **–ü–ª–æ—Ö–æ:** –î–∞–Ω–Ω—ã–µ –∏—Å—á–µ–∑–∞—é—Ç –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ.

5. **–ù–µ–∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å**  
   –ü–æ–ª—è `items` –∏ `prices` —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é.  
   **–ü–ª–æ—Ö–æ:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–∫–∞—Ç—å ("–ù–∞–π—Ç–∏ –≤—Å–µ –∑–∞–∫–∞–∑—ã —Å –Ω–æ—Å–∫–∞–º–∏").

---

## 7.3.4. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

**–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º:
- –£—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –£—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –∞–Ω–æ–º–∞–ª–∏–∏ –≤—Å—Ç–∞–≤–∫–∏, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, —É–¥–∞–ª–µ–Ω–∏—è
- –î–∞–Ω–Ω—ã–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–º–∏

**–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã (Normal Forms, NF)** ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–º –¥–æ–ª–∂–Ω–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü. –ß–µ–º –≤—ã—à–µ –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞, —Ç–µ–º –º–µ–Ω—å—à–µ –ø—Ä–æ–±–ª–µ–º.

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã:
1. **1–ù–§ (–ü–µ—Ä–≤–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞)** ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å
2. **2–ù–§ (–í—Ç–æ—Ä–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞)** ‚Äî –Ω–µ—Ç —á–∞—Å—Ç–∏—á–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. **3–ù–§ (–¢—Ä–µ—Ç—å—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞)** ‚Äî –Ω–µ—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–¢–∞–∫–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:
- **BCNF (–ë–æ–π—Å–∞-–ö–æ–¥–¥–∞)** ‚Äî —É—Å–∏–ª–µ–Ω–Ω–∞—è 3–ù–§
- **4–ù–§** ‚Äî –Ω–µ—Ç –º–Ω–æ–≥–æ–∑–Ω–∞—á–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **5–ù–§** ‚Äî –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

–ù–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ **–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 3–ù–§**. –î–∞–ª—å—à–µ —É–∂–µ –ø–∞—Ä–∞–Ω–æ—è.

---

### 7.3.4.1. –ü–µ—Ä–≤–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (1–ù–§)

**–ü—Ä–∞–≤–∏–ª–æ:** –í—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏** (–Ω–µ–¥–µ–ª–∏–º—ã–º–∏), –∏ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –≥—Ä—É–ø–ø.

**–ß—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ:**
- ‚ùå –°–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é: `items = "–ù–æ—Å–∫–∏, –¢—Ä—É—Å—ã, –ú–∞–π–∫–∞"`
- ‚ùå –ú–∞—Å—Å–∏–≤—ã: `phones = ["123", "456", "789"]`
- ‚ùå –ù–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –æ–¥–Ω–æ–º –ø–æ–ª–µ: `–∞–¥—Ä–µ—Å = "–ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥.10, –∫–≤.5"`
- ‚ùå –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å—Ç–æ–ª–±—Ü—ã: `—Ç–µ–ª–µ—Ñ–æ–Ω1`, `—Ç–µ–ª–µ—Ñ–æ–Ω2`, `—Ç–µ–ª–µ—Ñ–æ–Ω3`

**–ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è 1–ù–§:**

```sql
-- –ü–ª–æ—Ö–æ
CREATE TABLE order_bad (
    order_id INT PRIMARY KEY,
    customer_name VARCHAR(50),
    items TEXT  -- "–ù–æ—Å–∫–∏, –¢—Ä—É—Å—ã, –ú–∞–π–∫–∞" ‚ùå –ù–µ–∞—Ç–æ–º–∞—Ä–Ω–æ!
);
```

**–ö–∞–∫ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ 1–ù–§:**

–í–∞—Ä–∏–∞–Ω—Ç 1: –†–∞–∑–±–∏—Ç—å –Ω–∞ —Å—Ç—Ä–æ–∫–∏ (–ø–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–∫–∞–∑–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞)

```sql
-- 1–ù–§: –ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
CREATE TABLE order_item (
    order_id INT,
    customer_name VARCHAR(50),
    item VARCHAR(50)
);

-- –î–∞–Ω–Ω—ã–µ:
| order_id | customer_name | item   |
|----------|---------------|--------|
| 1        | –ò–≤–∞–Ω–æ–≤        | –ù–æ—Å–∫–∏  |
| 1        | –ò–≤–∞–Ω–æ–≤        | –¢—Ä—É—Å—ã  |
| 1        | –ò–≤–∞–Ω–æ–≤        | –ú–∞–π–∫–∞  |
```

–ù–æ —Ç—É—Ç –µ—â—ë –Ω–µ 2–ù–§, –ø–æ—Ç–æ–º—É —á—Ç–æ `customer_name` –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è. –û–± —ç—Ç–æ–º –Ω–∏–∂–µ.

–í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤
CREATE TABLE order (
    order_id INT PRIMARY KEY,
    customer_name VARCHAR(50)
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∑–∞–∫–∞–∑–µ
CREATE TABLE order_item (
    order_id INT,
    item VARCHAR(50),
    PRIMARY KEY (order_id, item)
);
```

---

### 7.3.4.2. –í—Ç–æ—Ä–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (2–ù–§)

**–ü—Ä–∞–≤–∏–ª–æ:** –¢–∞–±–ª–∏—Ü–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ 1–ù–§, –∏ –∫–∞–∂–¥—ã–π **–Ω–µ–∫–ª—é—á–µ–≤–æ–π –∞—Ç—Ä–∏–±—É—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞**.

**–ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á **—Å–æ—Å—Ç–∞–≤–Ω–æ–π**, –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–≤–∏—Å—è—Ç —Ç–æ–ª—å–∫–æ –æ—Ç **—á–∞—Å—Ç–∏ –∫–ª—é—á–∞**.

**–ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è 2–ù–§:**

```sql
-- 1–ù–§, –Ω–æ –Ω–µ 2–ù–§
CREATE TABLE order_item (
    order_id INT,
    item VARCHAR(50),
    customer_name VARCHAR(50),  -- –ó–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç order_id
    item_price INT,             -- –ó–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç item
    PRIMARY KEY (order_id, item)
);
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `customer_name` –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç `order_id` (–Ω–µ –æ—Ç `item`)
- `item_price` –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç `item` (–Ω–µ –æ—Ç `order_id`)

–≠—Ç–æ **—á–∞—Å—Ç–∏—á–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** ‚Äî –∞—Ç—Ä–∏–±—É—Ç –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç —á–∞—Å—Ç–∏ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –∫–ª—é—á–∞.

**–ö–∞–∫ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ 2–ù–§:**

–†–∞–∑–±–∏—Ç—å –Ω–∞ —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã:

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤
CREATE TABLE order (
    order_id INT PRIMARY KEY,
    customer_name VARCHAR(50)
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤
CREATE TABLE item (
    item_name VARCHAR(50) PRIMARY KEY,
    item_price INT
);

-- –¢–∞–±–ª–∏—Ü–∞ —Å–≤—è–∑–∏ "–∑–∞–∫–∞–∑-—Ç–æ–≤–∞—Ä"
CREATE TABLE order_item (
    order_id INT,
    item_name VARCHAR(50),
    PRIMARY KEY (order_id, item_name),
    FOREIGN KEY (order_id) REFERENCES order(order_id),
    FOREIGN KEY (item_name) REFERENCES item(item_name)
);
```

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π –∞—Ç—Ä–∏–±—É—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç **–≤—Å–µ–≥–æ** –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ —Å–≤–æ–µ–π —Ç–∞–±–ª–∏—Ü—ã.

---

### 7.3.4.3. –¢—Ä–µ—Ç—å—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (3–ù–§)

**–ü—Ä–∞–≤–∏–ª–æ:** –¢–∞–±–ª–∏—Ü–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ 2–ù–§, –∏ –∫–∞–∂–¥—ã–π **–Ω–µ–∫–ª—é—á–µ–≤–æ–π –∞—Ç—Ä–∏–±—É—Ç –Ω–µ –∑–∞–≤–∏—Å–∏—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞**.

**–¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:** A ‚Üí B ‚Üí C. –ï—Å–ª–∏ –∞—Ç—Ä–∏–±—É—Ç C –∑–∞–≤–∏—Å–∏—Ç –æ—Ç B, –∞ B –∑–∞–≤–∏—Å–∏—Ç –æ—Ç A, —Ç–æ C —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç A.

**–ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è 3–ù–§:**

```sql
-- 2–ù–§, –Ω–æ –Ω–µ 3–ù–§
CREATE TABLE student (
    student_id INT PRIMARY KEY,
    name VARCHAR(50),
    city VARCHAR(50),
    zip_code VARCHAR(10)  -- –¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å!
);
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `zip_code` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `city`
- `city` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `student_id`
- –ó–Ω–∞—á–∏—Ç, `zip_code` —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `student_id`

**–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:**
- –ï—Å–ª–∏ –≤ –≥–æ—Ä–æ–¥–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è –ø–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å, –ø—Ä–∏–¥—ë—Ç—Å—è –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏–∑ —ç—Ç–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- –ï—Å–ª–∏ —É –Ω–∞—Å –Ω–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏–∑ –≥–æ—Ä–æ–¥–∞ X, –º—ã –Ω–µ –º–æ–∂–µ–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –µ–≥–æ –∏–Ω–¥–µ–∫—Å–µ

**–ö–∞–∫ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ 3–ù–§:**

```sql
-- –¢–∞–±–ª–∏—Ü–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
CREATE TABLE student (
    student_id INT PRIMARY KEY,
    name VARCHAR(50),
    city_id INT,
    FOREIGN KEY (city_id) REFERENCES city(city_id)
);

-- –¢–∞–±–ª–∏—Ü–∞ –≥–æ—Ä–æ–¥–æ–≤
CREATE TABLE city (
    city_id INT PRIMARY KEY,
    city_name VARCHAR(50),
    zip_code VARCHAR(10)
);
```

–¢–µ–ø–µ—Ä—å `zip_code` –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç `city_id`, –∞ –Ω–µ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ `student_id`.

---

### 7.3.4.4. –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –ë–æ–π—Å–∞-–ö–æ–¥–¥–∞ (BCNF)

**–ü—Ä–∞–≤–∏–ª–æ:** –¢–∞–±–ª–∏—Ü–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ 3–ù–§, –∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ X ‚Üí Y –∞—Ç—Ä–∏–±—É—Ç X –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—É–ø–µ—Ä–∫–ª—é—á–æ–º (—Ç.–µ. —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á).

**–ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞:** –†–µ–¥–∫–æ, –Ω–æ –±—ã–≤–∞–µ—Ç, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π, –∏ –æ–Ω–∏ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç—Å—è.

**–ü—Ä–∏–º–µ—Ä (–∏–∑ –∫–ª–∞—Å—Å–∏–∫–∏):**

```sql
-- –¢–∞–±–ª–∏—Ü–∞ "–°—Ç—É–¥–µ–Ω—Ç-–ö—É—Ä—Å-–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å"
CREATE TABLE enrollment (
    student_id INT,
    course_name VARCHAR(50),
    instructor_name VARCHAR(50),
    PRIMARY KEY (student_id, course_name)
);
```

**–ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ö–∞–∂–¥—ã–π –∫—É—Ä—Å –≤–µ–¥—ë—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å, –Ω–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—É—Ä—Å–æ–≤.

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `(student_id, course_name) ‚Üí instructor_name` (–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á)
- `course_name ‚Üí instructor_name` (–∫—É—Ä—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è)

**–ü—Ä–æ–±–ª–µ–º–∞:** `instructor_name` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `course_name`, –Ω–æ `course_name` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—É–ø–µ—Ä–∫–ª—é—á–æ–º.

**–†–µ—à–µ–Ω–∏–µ (BCNF):**

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∫—É—Ä—Å–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE course (
    course_name VARCHAR(50) PRIMARY KEY,
    instructor_name VARCHAR(50)
);

-- –¢–∞–±–ª–∏—Ü–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–∞ –∫—É—Ä—Å–∞—Ö
CREATE TABLE enrollment (
    student_id INT,
    course_name VARCHAR(50),
    PRIMARY KEY (student_id, course_name),
    FOREIGN KEY (course_name) REFERENCES course(course_name)
);
```

**–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:** BCNF —Ä–µ–¥–∫–æ –Ω—É–∂–Ω–∞. 3–ù–§ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 99% —Å–ª—É—á–∞–µ–≤.

---

## 7.3.5. –ü—Ä–∏–º–µ—Ä—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 1: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω (–æ—Ç UNF –¥–æ 3–ù–§)

**–ò—Å—Ö–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (UNF ‚Äî Unnormalized Form):**

```
| order_id | customer_name | customer_email   | items              | prices        |
|----------|---------------|------------------|--------------------|---------------|
| 1        | –ò–≤–∞–Ω–æ–≤        | ivan@mail.ru     | –ù–æ—Å–∫–∏,–¢—Ä—É—Å—ã,–ú–∞–π–∫–∞  | 150,200,300   |
| 2        | –ü–µ—Ç—Ä–æ–≤        | petr@mail.ru     | –¢—Ä—É—Å—ã              | 200           |
| 3        | –ò–≤–∞–Ω–æ–≤        | ivan@mail.ru     | –ù–æ—Å–∫–∏              | 150           |
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ–∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å (`items` –∏ `prices` ‚Äî —Å–ø–∏—Å–∫–∏)
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (`–ò–≤–∞–Ω–æ–≤` –∏ `ivan@mail.ru` –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è)

---

**–®–∞–≥ 1: –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ 1–ù–§**

–†–∞–∑–±–∏–≤–∞–µ–º —Å–ø–∏—Å–∫–∏ –Ω–∞ —Å—Ç—Ä–æ–∫–∏:

```sql
CREATE TABLE order_item_1nf (
    order_id INT,
    customer_name VARCHAR(50),
    customer_email VARCHAR(100),
    item VARCHAR(50),
    price INT
);
```

**–î–∞–Ω–Ω—ã–µ:**

```
| order_id | customer_name | customer_email | item   | price |
|----------|---------------|----------------|--------|-------|
| 1        | –ò–≤–∞–Ω–æ–≤        | ivan@mail.ru   | –ù–æ—Å–∫–∏  | 150   |
| 1        | –ò–≤–∞–Ω–æ–≤        | ivan@mail.ru   | –¢—Ä—É—Å—ã  | 200   |
| 1        | –ò–≤–∞–Ω–æ–≤        | ivan@mail.ru   | –ú–∞–π–∫–∞  | 300   |
| 2        | –ü–µ—Ç—Ä–æ–≤        | petr@mail.ru   | –¢—Ä—É—Å—ã  | 200   |
| 3        | –ò–≤–∞–Ω–æ–≤        | ivan@mail.ru   | –ù–æ—Å–∫–∏  | 150   |
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- `customer_name` –∏ `customer_email` –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è (–Ω–µ 2–ù–§)
- `price` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `item`, –∞ –Ω–µ –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ `(order_id, item)` (–Ω–µ 2–ù–§)

---

**–®–∞–≥ 2: –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ 2–ù–§**

–†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã:

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤
CREATE TABLE order_2nf (
    order_id INT PRIMARY KEY,
    customer_name VARCHAR(50),
    customer_email VARCHAR(100)
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤
CREATE TABLE item_2nf (
    item_name VARCHAR(50) PRIMARY KEY,
    price INT
);

-- –°–≤—è–∑—å "–∑–∞–∫–∞–∑-—Ç–æ–≤–∞—Ä"
CREATE TABLE order_item_2nf (
    order_id INT,
    item_name VARCHAR(50),
    PRIMARY KEY (order_id, item_name),
    FOREIGN KEY (order_id) REFERENCES order_2nf(order_id),
    FOREIGN KEY (item_name) REFERENCES item_2nf(item_name)
);
```

**–î–∞–Ω–Ω—ã–µ:**

–¢–∞–±–ª–∏—Ü–∞ `order_2nf`:
```
| order_id | customer_name | customer_email |
|----------|---------------|----------------|
| 1        | –ò–≤–∞–Ω–æ–≤        | ivan@mail.ru   |
| 2        | –ü–µ—Ç—Ä–æ–≤        | petr@mail.ru   |
| 3        | –ò–≤–∞–Ω–æ–≤        | ivan@mail.ru   |
```

–¢–∞–±–ª–∏—Ü–∞ `item_2nf`:
```
| item_name | price |
|-----------|-------|
| –ù–æ—Å–∫–∏     | 150   |
| –¢—Ä—É—Å—ã     | 200   |
| –ú–∞–π–∫–∞     | 300   |
```

–¢–∞–±–ª–∏—Ü–∞ `order_item_2nf`:
```
| order_id | item_name |
|----------|-----------|
| 1        | –ù–æ—Å–∫–∏     |
| 1        | –¢—Ä—É—Å—ã     |
| 1        | –ú–∞–π–∫–∞     |
| 2        | –¢—Ä—É—Å—ã     |
| 3        | –ù–æ—Å–∫–∏     |
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –í —Ç–∞–±–ª–∏—Ü–µ `order_2nf` –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞ (`customer_name`, `customer_email`) –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞ (–Ω–µ 3–ù–§)

---

**–®–∞–≥ 3: –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ 3–ù–§**

–í—ã–Ω–æ—Å–∏–º –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É:

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
CREATE TABLE customer_3nf (
    customer_id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50),
    email VARCHAR(100) UNIQUE
);

-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤
CREATE TABLE order_3nf (
    order_id INT PRIMARY KEY,
    customer_id INT,
    order_date DATE,
    FOREIGN KEY (customer_id) REFERENCES customer_3nf(customer_id)
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE item_3nf (
    item_name VARCHAR(50) PRIMARY KEY,
    price INT
);

-- –°–≤—è–∑—å "–∑–∞–∫–∞–∑-—Ç–æ–≤–∞—Ä" (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE order_item_3nf (
    order_id INT,
    item_name VARCHAR(50),
    quantity INT DEFAULT 1,  -- –î–æ–±–∞–≤–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è —Ä–µ–∞–ª–∏–∑–º–∞
    PRIMARY KEY (order_id, item_name),
    FOREIGN KEY (order_id) REFERENCES order_3nf(order_id),
    FOREIGN KEY (item_name) REFERENCES item_3nf(item_name)
);
```

**–î–∞–Ω–Ω—ã–µ:**

–¢–∞–±–ª–∏—Ü–∞ `customer_3nf`:
```
| customer_id | name   | email          |
|-------------|--------|----------------|
| 1           | –ò–≤–∞–Ω–æ–≤ | ivan@mail.ru   |
| 2           | –ü–µ—Ç—Ä–æ–≤ | petr@mail.ru   |
```

–¢–∞–±–ª–∏—Ü–∞ `order_3nf`:
```
| order_id | customer_id | order_date |
|----------|-------------|------------|
| 1        | 1           | 2025-01-10 |
| 2        | 2           | 2025-01-11 |
| 3        | 1           | 2025-01-12 |
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ 3–ù–§:**
- –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–ª–∏–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)
- –ù–µ—Ç –∞–Ω–æ–º–∞–ª–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–∏–∑–º–µ–Ω–∏–ª email –∫–ª–∏–µ–Ω—Ç–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ)
- –ù–µ—Ç –∞–Ω–æ–º–∞–ª–∏–π —É–¥–∞–ª–µ–Ω–∏—è (—É–¥–∞–ª–∏–ª –∑–∞–∫–∞–∑, –Ω–æ –∫–ª–∏–µ–Ω—Ç –æ—Å—Ç–∞–ª—Å—è)
- –ù–µ—Ç –∞–Ω–æ–º–∞–ª–∏–π –≤—Å—Ç–∞–≤–∫–∏ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –±–µ–∑ –∑–∞–∫–∞–∑–∞)

---

### –ü—Ä–∏–º–µ—Ä 2: –†–∞—Å—á—ë—Ç —Ä–∞–∑–º–µ—Ä–∞ –ë–î –¥–æ –∏ –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∞:** –£ –Ω–∞—Å 10,000 –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–∞–∂–¥—ã–π —Å–¥–µ–ª–∞–ª –≤ —Å—Ä–µ–¥–Ω–µ–º 5 –∑–∞–∫–∞–∑–æ–≤. –í—Å–µ–≥–æ 50,000 –∑–∞–∫–∞–∑–æ–≤. –ü–æ—Å—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –ë–î –¥–æ –∏ –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ù–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:**

```sql
CREATE TABLE order_bad (
    order_id INT,          -- 4 –±–∞–π—Ç–∞
    customer_name VARCHAR(50),  -- 50 –±–∞–π—Ç (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º –ø–æ–ª–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ)
    customer_email VARCHAR(100),  -- 100 –±–∞–π—Ç
    item VARCHAR(50),      -- 50 –±–∞–π—Ç
    price INT              -- 4 –±–∞–π—Ç–∞
);
```

–†–∞–∑–º–µ—Ä –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏: 4 + 50 + 100 + 50 + 4 = **208 –±–∞–π—Ç**

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ (–µ—Å–ª–∏ –≤ —Å—Ä–µ–¥–Ω–µ–º 3 —Ç–æ–≤–∞—Ä–∞ –Ω–∞ –∑–∞–∫–∞–∑): 50,000 –∑–∞–∫–∞–∑–æ–≤ √ó 3 —Ç–æ–≤–∞—Ä–∞ = **150,000 —Å—Ç—Ä–æ–∫**

**–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä:** 150,000 √ó 208 = **31,200,000 –±–∞–π—Ç = 31.2 –ú–ë**

---

**–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ë–î (3–ù–§):**

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ (10,000 —Å—Ç—Ä–æ–∫)
CREATE TABLE customer (
    customer_id INT,       -- 4 –±–∞–π—Ç–∞
    name VARCHAR(50),      -- 50 –±–∞–π—Ç
    email VARCHAR(100)     -- 100 –±–∞–π—Ç
);
-- –†–∞–∑–º–µ—Ä –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏: 4 + 50 + 100 = 154 –±–∞–π—Ç–∞
-- –í—Å–µ–≥–æ: 10,000 √ó 154 = 1,540,000 –±–∞–π—Ç = 1.54 –ú–ë

-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤ (50,000 —Å—Ç—Ä–æ–∫)
CREATE TABLE order (
    order_id INT,          -- 4 –±–∞–π—Ç–∞
    customer_id INT,       -- 4 –±–∞–π—Ç–∞
    order_date DATE        -- 4 –±–∞–π—Ç–∞
);
-- –†–∞–∑–º–µ—Ä –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏: 4 + 4 + 4 = 12 –±–∞–π—Ç
-- –í—Å–µ–≥–æ: 50,000 √ó 12 = 600,000 –±–∞–π—Ç = 0.6 –ú–ë

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, 100 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤)
CREATE TABLE item (
    item_name VARCHAR(50), -- 50 –±–∞–π—Ç
    price INT              -- 4 –±–∞–π—Ç–∞
);
-- –†–∞–∑–º–µ—Ä –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏: 50 + 4 = 54 –±–∞–π—Ç–∞
-- –í—Å–µ–≥–æ: 100 √ó 54 = 5,400 –±–∞–π—Ç = 0.0054 –ú–ë

-- –°–≤—è–∑—å "–∑–∞–∫–∞–∑-—Ç–æ–≤–∞—Ä" (150,000 —Å—Ç—Ä–æ–∫)
CREATE TABLE order_item (
    order_id INT,          -- 4 –±–∞–π—Ç–∞
    item_name VARCHAR(50), -- 50 –±–∞–π—Ç
    quantity INT           -- 4 –±–∞–π—Ç–∞
);
-- –†–∞–∑–º–µ—Ä –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏: 4 + 50 + 4 = 58 –±–∞–π—Ç
-- –í—Å–µ–≥–æ: 150,000 √ó 58 = 8,700,000 –±–∞–π—Ç = 8.7 –ú–ë
```

**–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –ë–î:**
1.54 + 0.6 + 0.0054 + 8.7 = **10.85 –ú–ë**

**–í—ã–∏–≥—Ä—ã—à:** 31.2 –ú–ë ‚Üí 10.85 –ú–ë = —ç–∫–æ–Ω–æ–º–∏—è **65%**!

---

### –ü—Ä–∏–º–µ—Ä 3: –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç (—Å—Ç—É–¥–µ–Ω—Ç—ã, –∫—É—Ä—Å—ã, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏)

**–ü–ª–æ—Ö–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (UNF):**

```
| student_name | courses                     | instructors           | grades       |
|--------------|-----------------------------|-----------------------|--------------|
| –ò–≤–∞–Ω–æ–≤       | –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –§–∏–∑–∏–∫–∞, –•–∏–º–∏—è   | –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä–æ–≤, –ö–æ–∑–ª–æ–≤ | 5, 4, 3      |
| –ü–µ—Ç—Ä–æ–≤–∞      | –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –§–∏–∑–∏–∫–∞          | –ü–µ—Ç—Ä–æ–≤, –°–∏–¥–æ—Ä–æ–≤       | 4, 5         |
```

**3–ù–§:**

```sql
-- –¢–∞–±–ª–∏—Ü–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
CREATE TABLE student (
    student_id INT PRIMARY KEY,
    name VARCHAR(50)
);

-- –¢–∞–±–ª–∏—Ü–∞ –∫—É—Ä—Å–æ–≤
CREATE TABLE course (
    course_id INT PRIMARY KEY,
    course_name VARCHAR(50)
);

-- –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE instructor (
    instructor_id INT PRIMARY KEY,
    name VARCHAR(50)
);

-- –°–≤—è–∑—å "–∫—É—Ä—Å-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å" (M:N, –µ—Å–ª–∏ –∫—É—Ä—Å –º–æ–≥—É—Ç –≤–µ—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π)
CREATE TABLE course_instructor (
    course_id INT,
    instructor_id INT,
    PRIMARY KEY (course_id, instructor_id),
    FOREIGN KEY (course_id) REFERENCES course(course_id),
    FOREIGN KEY (instructor_id) REFERENCES instructor(instructor_id)
);

-- –°–≤—è–∑—å "—Å—Ç—É–¥–µ–Ω—Ç-–∫—É—Ä—Å" —Å –æ—Ü–µ–Ω–∫–∞–º–∏
CREATE TABLE enrollment (
    student_id INT,
    course_id INT,
    grade INT,
    PRIMARY KEY (student_id, course_id),
    FOREIGN KEY (student_id) REFERENCES student(student_id),
    FOREIGN KEY (course_id) REFERENCES course(course_id)
);
```

**–ó–∞–ø—Ä–æ—Å:** –ù–∞–π—Ç–∏ –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –∏–∑—É—á–∞—é—â–∏—Ö –∫—É—Ä—Å—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –ü–µ—Ç—Ä–æ–≤–∞:

```sql
SELECT DISTINCT s.name
FROM student s
JOIN enrollment e ON s.student_id = e.student_id
JOIN course_instructor ci ON e.course_id = ci.course_id
JOIN instructor i ON ci.instructor_id = i.instructor_id
WHERE i.name = '–ü–µ—Ç—Ä–æ–≤';
```

---

## 7.3.6. –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

**–ß—Ç–æ –±–ª—è—Ç—å?!** –ü–æ—Å–ª–µ –≤—Å–µ—Ö —ç—Ç–∏—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –ø—Ä–æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é —è —Å–∫–∞–∂—É: –∏–Ω–æ–≥–¥–∞ **–Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –Ω–∞–æ–±–æ—Ä–æ—Ç** ‚Äî –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ. –ñ–∏–∑–Ω—å —Å–ª–æ–∂–Ω–∞, —á—É–≤–∞–∫.

**–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —ç—Ç–æ —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º –¥–ª—è **–ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**.

### –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è?

1. **–ß–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å JOIN**  
   –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —Å–æ–µ–¥–∏–Ω—è–µ—Ç 10 —Ç–∞–±–ª–∏—Ü –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 1000 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É, —ç—Ç–æ –ø–∏–∑–¥–µ—Ü –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

   **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å JOIN.

2. **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã (OLAP)**  
   –í —Ö—Ä–∞–Ω–∏–ª–∏—â–∞—Ö –¥–∞–Ω–Ω—ã—Ö (Data Warehouse) –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞. –¢–∞–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–∑–≤–µ–∑–¥–∞** (Star Schema) –∏–ª–∏ **—Å–Ω–µ–∂–∏–Ω–∫–∞** (Snowflake Schema), –≥–¥–µ –µ—Å—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ.

3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**  
   –ù–∞–ø—Ä–∏–º–µ—Ä, —Ö—Ä–∞–Ω–∏—Ç—å `total_price` –≤ —Ç–∞–±–ª–∏—Ü–µ –∑–∞–∫–∞–∑–æ–≤, —Ö–æ—Ç—è –µ–≥–æ –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –∏–∑ `order_item`.

### –ü—Ä–∏–º–µ—Ä –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

**–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è:**

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤
CREATE TABLE order (
    order_id INT PRIMARY KEY,
    customer_id INT
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∑–∞–∫–∞–∑–µ
CREATE TABLE order_item (
    order_id INT,
    item_name VARCHAR(50),
    price INT,
    quantity INT
);
```

**–ó–∞–ø—Ä–æ—Å: –ù–∞–π—Ç–∏ –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞**

```sql
SELECT order_id, SUM(price * quantity) AS total
FROM order_item
GROUP BY order_id;
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–∞—Å—Ç–æ, —ç—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ.

**–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è:**

```sql
CREATE TABLE order (
    order_id INT PRIMARY KEY,
    customer_id INT,
    total_price INT  -- –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: –¥—É–±–ª–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ
);
```

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ –≤ –∑–∞–∫–∞–∑ –æ–±–Ω–æ–≤–ª—è–µ–º `total_price`:

```sql
UPDATE order
SET total_price = total_price + (price * quantity)
WHERE order_id = 123;
```

**–ü–ª—é—Å—ã:** –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—Ä–æ—Å (–Ω–µ –Ω—É–∂–µ–Ω JOIN –∏ GROUP BY)

**–ú–∏–Ω—É—Å—ã:** –ù–∞–¥–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å—é (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏–ª–∏ –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

---

## 7.3.7. SQL –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –ë–î

–í–æ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä SQL-—Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –≤ 3–ù–§:

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
CREATE TABLE customer (
    customer_id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    phone VARCHAR(20),
    registration_date DATE DEFAULT CURRENT_DATE
);

-- –¢–∞–±–ª–∏—Ü–∞ –∞–¥—Ä–µ—Å–æ–≤ (1:N —Å –∫–ª–∏–µ–Ω—Ç–æ–º)
CREATE TABLE address (
    address_id INT PRIMARY KEY AUTO_INCREMENT,
    customer_id INT NOT NULL,
    country VARCHAR(50),
    city VARCHAR(50),
    street VARCHAR(100),
    building VARCHAR(10),
    apartment VARCHAR(10),
    zip_code VARCHAR(10),
    FOREIGN KEY (customer_id) REFERENCES customer(customer_id)
        ON DELETE CASCADE
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤
CREATE TABLE item (
    item_id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    description TEXT,
    price DECIMAL(10, 2) NOT NULL,
    stock INT DEFAULT 0
);

-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤
CREATE TABLE order (
    order_id INT PRIMARY KEY AUTO_INCREMENT,
    customer_id INT NOT NULL,
    address_id INT,
    order_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    status ENUM('pending', 'paid', 'shipped', 'delivered', 'cancelled') DEFAULT 'pending',
    FOREIGN KEY (customer_id) REFERENCES customer(customer_id),
    FOREIGN KEY (address_id) REFERENCES address(address_id)
);

-- –°–≤—è–∑—å "–∑–∞–∫–∞–∑-—Ç–æ–≤–∞—Ä" (M:N)
CREATE TABLE order_item (
    order_id INT,
    item_id INT,
    quantity INT NOT NULL DEFAULT 1,
    price DECIMAL(10, 2) NOT NULL,  -- –§–∏–∫—Å–∏—Ä—É–µ–º —Ü–µ–Ω—É –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–∫–∞–∑–∞
    PRIMARY KEY (order_id, item_id),
    FOREIGN KEY (order_id) REFERENCES order(order_id)
        ON DELETE CASCADE,
    FOREIGN KEY (item_id) REFERENCES item(item_id)
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
CREATE INDEX idx_customer_email ON customer(email);
CREATE INDEX idx_order_customer ON order(customer_id);
CREATE INDEX idx_order_date ON order(order_date);
```

**–¢–∏–ø–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**

```sql
-- 1. –ù–∞–π—Ç–∏ –≤—Å–µ –∑–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞ ivan@mail.ru
SELECT o.*
FROM order o
JOIN customer c ON o.customer_id = c.customer_id
WHERE c.email = 'ivan@mail.ru';

-- 2. –ù–∞–π—Ç–∏ –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞ #123
SELECT SUM(oi.price * oi.quantity) AS total
FROM order_item oi
WHERE oi.order_id = 123;

-- 3. –ù–∞–π—Ç–∏ —Ç–æ–ø-5 —Å–∞–º—ã—Ö –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
SELECT i.name, SUM(oi.quantity) AS total_sold
FROM order_item oi
JOIN item i ON oi.item_id = i.item_id
GROUP BY i.item_id
ORDER BY total_sold DESC
LIMIT 5;

-- 4. –ù–∞–π—Ç–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞–∫–∞–∑–∞–ª–∏
SELECT c.*
FROM customer c
LEFT JOIN order o ON c.customer_id = o.customer_id
WHERE o.order_id IS NULL;
```

---

## 7.3.8. –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –≥–ª–∞–≤–∞–º–∏

- **–ì–ª–∞–≤–∞ 7.1 (–ò–Ω—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ):** ER-–¥–∏–∞–≥—Ä–∞–º–º—ã ‚Üí —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- **–ì–ª–∞–≤–∞ 7.2 (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ë–î):** –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å ‚Üí –õ–æ–≥–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å (–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è)
- **–ì–ª–∞–≤–∞ 4.1 (–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ë–î):** –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —ç—Ç–∞–ø–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ì–ª–∞–≤–∞ 5.01 (–ê–ª–≥–æ—Ä–∏—Ç–º—ã):** –ò–Ω–¥–µ–∫—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç B-–¥–µ—Ä–µ–≤—å—è (O(log n))
- **–ì–ª–∞–≤–∞ 6.01 (–Ø–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è):** SQL ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —è–∑—ã–∫ 4-–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è

---

## –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã

**–†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö** ‚Äî –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü (–æ—Ç–Ω–æ—à–µ–Ω–∏–π).

**–û—Ç–Ω–æ—à–µ–Ω–∏–µ (Relation)** ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏.

**–ö–æ—Ä—Ç–µ–∂ (Tuple)** ‚Äî —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã.

**–ê—Ç—Ä–∏–±—É—Ç (Attribute)** ‚Äî —Å—Ç–æ–ª–±–µ—Ü —Ç–∞–±–ª–∏—Ü—ã.

**–î–æ–º–µ–Ω (Domain)** ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç–∞.

**–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (Primary Key, PK)** ‚Äî –∞—Ç—Ä–∏–±—É—Ç (–∏–ª–∏ –Ω–∞–±–æ—Ä –∞—Ç—Ä–∏–±—É—Ç–æ–≤), –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–π —Å—Ç—Ä–æ–∫—É.

**–í–Ω–µ—à–Ω–∏–π –∫–ª—é—á (Foreign Key, FK)** ‚Äî –∞—Ç—Ä–∏–±—É—Ç, —Å—Å—ã–ª–∞—é—â–∏–π—Å—è –Ω–∞ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü—ã.

**–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á (Unique Key, UK)** ‚Äî –∞—Ç—Ä–∏–±—É—Ç —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –Ω–æ –Ω–µ —è–≤–ª—è—é—â–∏–π—Å—è –ø–µ—Ä–≤–∏—á–Ω—ã–º –∫–ª—é—á–æ–º.

**–°—É—Ä—Ä–æ–≥–∞—Ç–Ω—ã–π –∫–ª—é—á** ‚Äî –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–æ–±—ã—á–Ω–æ `id`), –Ω–µ –Ω–µ—Å—É—â–∏–π –±–∏–∑–Ω–µ—Å-—Å–º—ã—Å–ª–∞.

**–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª—é—á** ‚Äî –∞—Ç—Ä–∏–±—É—Ç —Å –±–∏–∑–Ω–µ—Å-—Å–º—ã—Å–ª–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–∞–∫ –∫–ª—é—á (`email`, `ISBN`).

**–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –∞–Ω–æ–º–∞–ª–∏–π.

**–ü–µ—Ä–≤–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (1–ù–§)** ‚Äî –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∞—Ç–æ–º–∞—Ä–Ω—ã, –Ω–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –≥—Ä—É–ø–ø.

**–í—Ç–æ—Ä–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (2–ù–§)** ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ 1–ù–§, –∏ –∫–∞–∂–¥—ã–π –Ω–µ–∫–ª—é—á–µ–≤–æ–π –∞—Ç—Ä–∏–±—É—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ (–Ω–µ—Ç —á–∞—Å—Ç–∏—á–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).

**–¢—Ä–µ—Ç—å—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (3–ù–§)** ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ 2–ù–§, –∏ –Ω–µ—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ–∫–ª—é—á–µ–≤—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤.

**–ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –ë–æ–π—Å–∞-–ö–æ–¥–¥–∞ (BCNF)** ‚Äî —É—Å–∏–ª–µ–Ω–Ω–∞—è 3–ù–§: –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ X ‚Üí Y –∞—Ç—Ä–∏–±—É—Ç X —è–≤–ª—è–µ—Ç—Å—è —Å—É–ø–µ—Ä–∫–ª—é—á–æ–º.

**–¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å A ‚Üí B ‚Üí C, –≥–¥–µ C –∑–∞–≤–∏—Å–∏—Ç –æ—Ç A —á–µ—Ä–µ–∑ B.

**–ê–Ω–æ–º–∞–ª–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** ‚Äî –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏–∑–º–µ–Ω—è—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–æ –º–Ω–æ–≥–∏—Ö —Å—Ç—Ä–æ–∫–∞—Ö.

**–ê–Ω–æ–º–∞–ª–∏—è –≤—Å—Ç–∞–≤–∫–∏** ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

**–ê–Ω–æ–º–∞–ª–∏—è —É–¥–∞–ª–µ–Ω–∏—è** ‚Äî –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏ –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã.

**–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

**–ö–∞—Å–∫–∞–¥–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º—ã—Ö —Å—Ç—Ä–æ–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–æ–∫–∏ (`ON DELETE CASCADE`).

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1. **–¢–µ–æ—Ä–∏—è:** –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö? –ù–∞–∑–æ–≤–∏—Ç–µ –µ—ë –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–æ—Ç–Ω–æ—à–µ–Ω–∏–µ, –∫–æ—Ä—Ç–µ–∂, –∞—Ç—Ä–∏–±—É—Ç, –¥–æ–º–µ–Ω).

2. **–¢–µ–æ—Ä–∏—è:** –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø–µ—Ä–≤–∏—á–Ω—ã–º, –≤–Ω–µ—à–Ω–∏–º –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∫–ª—é—á–∞–º–∏? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã.

3. **–¢–µ–æ—Ä–∏—è:** –û–±—ä—è—Å–Ω–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ß—Ç–æ —Ç–∞–∫–æ–µ –∞–Ω–æ–º–∞–ª–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≤—Å—Ç–∞–≤–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è?

4. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:** –î–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞:
   ```
   | student_id | student_name | course_name | instructor_name | grade |
   |------------|--------------|-------------|-----------------|-------|
   | 1          | –ò–≤–∞–Ω–æ–≤       | –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞  | –ü–µ—Ç—Ä–æ–≤          | 5     |
   | 1          | –ò–≤–∞–Ω–æ–≤       | –§–∏–∑–∏–∫–∞      | –°–∏–¥–æ—Ä–æ–≤         | 4     |
   | 2          | –ü–µ—Ç—Ä–æ–≤–∞      | –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞  | –ü–µ—Ç—Ä–æ–≤          | 4     |
   ```
   –ü—Ä–∏–≤–µ–¥–∏—Ç–µ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É –∫ 3–ù–§. –û–ø–∏—à–∏—Ç–µ, –∫–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—É—á–∞—Ç—Å—è.

5. **–ü—Ä–∞–∫—Ç–∏–∫–∞:** –ü–æ—á–µ–º—É —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (`"item1, item2, item3"`) –≤ –æ–¥–Ω–æ–º –ø–æ–ª–µ –Ω–∞—Ä—É—à–∞–µ—Ç 1–ù–§? –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å?

6. **–ü—Ä–∞–∫—Ç–∏–∫–∞:** –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —á–∞—Å—Ç–∏—á–Ω–æ–π –∏ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é? –ö–∞–∫–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –∫–∞–∂–¥—É—é –∏–∑ –Ω–∏—Ö?

7. **–ü—Ä–∞–∫—Ç–∏–∫–∞:** –ù–∞–ø–∏—à–∏—Ç–µ SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–≤—É—Ö —Ç–∞–±–ª–∏—Ü: `author` (id, name) –∏ `book` (id, title, author_id), —Å –≤–Ω–µ—à–Ω–∏–º –∫–ª—é—á–æ–º –∏ –∫–∞—Å–∫–∞–¥–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º.

8. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ:** –í –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ä–∞–≤–¥–∞–Ω–∞? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä.

9. **–†–∞—Å—á—ë—Ç:** –£ –≤–∞—Å —Ç–∞–±–ª–∏—Ü–∞ —Å 1 –º–ª–Ω —Å—Ç—Ä–æ–∫, –≥–¥–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ (name, email, phone ‚Äî 150 –±–∞–π—Ç) –≤ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ. –ü–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ (10,000 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤). –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ —ç–∫–æ–Ω–æ–º–∏—é –º–µ—Å—Ç–∞.

10. **–î–∏–∑–∞–π–Ω:** –°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –ë–î –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ 3–ù–§. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏: –∫–Ω–∏–≥–∏, –∞–≤—Ç–æ—Ä—ã, —á–∏—Ç–∞—Ç–µ–ª–∏, –≤—ã–¥–∞—á–∞ –∫–Ω–∏–≥. –û–ø–∏—à–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–≤—è–∑–∏.

---

**–ú–æ–ª–æ–¥–µ—Ü, –µ—Å–ª–∏ –¥–æ—á–∏—Ç–∞–ª –¥–æ —Å—é–¥–∞!** –¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å, –∫–∞–∫ –Ω–µ –Ω–∞—Ö—É—è—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü –≤ –ë–î, –∞ —Å–¥–µ–ª–∞—Ç—å –∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ –±–∞–∑–∞ –æ—Å–Ω–æ–≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö. –ë–µ–∑ –Ω–µ—ë —Ç–≤–æ—è –ë–î –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ —Å–≤–∞–ª–∫—É –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –¥–∞–Ω–Ω—ã—Ö –∏ –±–∞–≥–æ–≤. –£–¥–∞—á–∏ –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–µ! üéâ
